<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#111827">
    <meta name="description" content="کفش ادیداس اولترا بوست - ترکیبی از تکنولوژی، راحتی و طراحی برای عملکرد بهینه">
    <meta property="og:title" content="کفش ادیداس اولترا بوست | ویژه دوندگان حرفه‌ای">
    <meta property="og:description" content="فناوری Boost برای بازگشت انرژی، رویه Primeknit برای تنفس و انعطاف عالی">
    <meta property="og:image" content="https://example.com/images/adidas-ultraboost-og.jpg">
    <title>کفش ادیداس اولترا بوست | فروشگاه اسپرت‌شاپ</title>
    
    <!-- فونت‌ها -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    
    <!-- آیکون‌ها -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <style>
      /* ================= استایل‌های پایه و متغیرها ================= */
:root {
  --primary-color: #2196f3;
  --primary-dark: #1976d2;
  --primary-light: #bbdefb;
  --primary-gradient: linear-gradient(135deg, #2196f3, #1e88e5, #1976d2);
  --secondary-color: #f5f5f5;
  --secondary-gradient: linear-gradient(135deg, #f9f9f9, #f5f5f5, #eeeeee);
  --success-color: #4caf50;
  --success-gradient: linear-gradient(135deg, #4caf50, #43a047, #388e3c);
  --warning-color: #ff9800;
  --warning-gradient: linear-gradient(135deg, #ff9800, #fb8c00, #f57c00);
  --danger-color: #f44336;
  --danger-gradient: linear-gradient(135deg, #f44336, #e53935, #d32f2f);
  --text-dark: #333;
  --text-medium: #666;
  --text-light: #999;
  --border-color: #e0e0e0;
  --shadow-sm: 0 2px 8px rgba(0,0,0,0.07);
  --shadow-md: 0 5px 15px rgba(0,0,0,0.1);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.15);
  --shadow-primary: 0 5px 15px rgba(33,150,243,0.2);
  --border-radius-sm: 8px;
  --border-radius-md: 12px;
  --border-radius-lg: 16px;
  --border-radius-xl: 24px;
  --border-radius-circle: 50%;
  --transition-fast: 0.2s all cubic-bezier(0.35, 0.1, 0.25, 1);
  --transition-medium: 0.3s all cubic-bezier(0.35, 0.1, 0.25, 1);
  --transition-slow: 0.5s all cubic-bezier(0.35, 0.1, 0.25, 1);
  --font-family: Vazir, Tahoma, Arial, sans-serif;
  --easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* ================= ریست و استایل‌های پایه ================= */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
  direction: rtl;
}

body {
  font-family: var(--font-family);
  background-color: #f8f9fa;
  color: var(--text-dark);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

a {
  text-decoration: none;
  color: inherit;
  transition: var(--transition-medium);
}

button, input, textarea, select {
  font-family: var(--font-family);
  font-size: inherit;
  -webkit-tap-highlight-color: transparent;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* ================= انیمیشن‌های پایه ================= */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { transform: translateY(30px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slideDown {
  from { transform: translateY(-30px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slideLeft {
  from { transform: translateX(30px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes slideRight {
  from { transform: translateX(-30px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes scaleUp {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes scaleDown {
  from { transform: scale(1.1); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes float {
  0% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0); }
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-20px); }
  60% { transform: translateY(-10px); }
}

/* ================= کلاس‌های انیمیشن‌ها ================= */
.fade-in { animation: fadeIn 0.5s both; }
.slide-up { animation: slideUp 0.5s both; }
.slide-down { animation: slideDown 0.5s both; }
.slide-left { animation: slideLeft 0.5s both; }
.slide-right { animation: slideRight 0.5s both; }
.scale-up { animation: scaleUp 0.5s both; }
.scale-down { animation: scaleDown 0.5s both; }
.float { animation: float 3s ease-in-out infinite; }
.pulse { animation: pulse 2s infinite; }
.rotate { animation: rotate 1s linear infinite; }
.shake { animation: shake 0.5s; }
.bounce { animation: bounce 1s; }

.delay-1 { animation-delay: 0.1s; }
.delay-2 { animation-delay: 0.2s; }
.delay-3 { animation-delay: 0.3s; }
.delay-4 { animation-delay: 0.4s; }
.delay-5 { animation-delay: 0.5s; }

/* ================= کانتینر‌ها ================= */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

.section {
  margin: 40px 0;
  position: relative;
}

/* ================= نوار ناوبری ================= */
.navbar {
  position: sticky;
  top: 0;
  left: 0;
  width: 100%;
  background-color: white;
  box-shadow: var(--shadow-md);
  z-index: 100;
  padding: 12px 0;
  transition: transform 0.4s, box-shadow 0.3s;
}

.navbar.scrolled {
  box-shadow: var(--shadow-lg);
}

.navbar.hidden {
  transform: translateY(-100%);
}

.navbar-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.navbar-logo {
  font-size: 24px;
  font-weight: 700;
  color: var(--text-dark);
  display: flex;
  align-items: center;
}

.navbar-logo span {
  color: var(--primary-color);
}

.navbar-logo svg {
  margin-left: 8px;
  fill: var(--primary-color);
  height: 24px;
  transition: transform 0.3s var(--easing-bounce);
}

.navbar-logo:hover svg {
  transform: scale(1.15);
}

.navbar-actions {
  display: flex;
  align-items: center;
  gap: 10px;
}

.navbar-action {
  background: none;
  border: none;
  position: relative;
  cursor: pointer;
  width: 42px;
  height: 42px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--border-radius-circle);
  color: var(--text-medium);
  transition: var(--transition-medium);
  background-color: transparent;
  font-size: 20px;
}

.navbar-action::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--primary-light);
  border-radius: inherit;
  opacity: 0;
  transform: scale(0);
  transition: var(--transition-medium);
  z-index: -1;
}

.navbar-action:hover {
  color: var(--primary-color);
}

.navbar-action:hover::before {
  opacity: 0.15;
  transform: scale(1);
}

.navbar-badge {
  position: absolute;
  top: -2px;
  right: -2px;
  background-image: var(--primary-gradient);
  color: white;
  font-size: 11px;
  min-width: 18px;
  height: 18px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(33, 150, 243, 0.3);
  padding: 0 5px;
  font-weight: 600;
}

/* ================= دکمه‌ها ================= */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  font-weight: 500;
  cursor: pointer;
  transition: var(--transition-medium);
  height: 44px;
  padding: 0 20px;
  border-radius: var(--border-radius-md);
  position: relative;
  overflow: hidden;
  z-index: 1;
  font-size: 14px;
}

.btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(255, 255, 255, 0.15);
  opacity: 0;
  transition: var(--transition-medium);
  z-index: -1;
}

.btn:hover::before {
  opacity: 1;
}

.btn::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
  z-index: -1;
}

.btn:active::after {
  width: 300%;
  height: 300%;
}

.btn i, .btn svg {
  margin-left: 8px;
  transition: transform 0.3s;
  font-size: 16px;
}

.btn:hover i, .btn:hover svg {
  transform: translateX(-3px);
}

.btn-primary {
  background-image: var(--primary-gradient);
  color: white;
  box-shadow: var(--shadow-primary);
}

.btn-primary:hover {
  box-shadow: 0 8px 20px rgba(33, 150, 243, 0.3);
  transform: translateY(-2px);
}

.btn-primary:active {
  transform: translateY(0);
  box-shadow: var(--shadow-primary);
}

.btn-secondary {
  background-color: white;
  color: var(--text-dark);
  box-shadow: var(--shadow-sm);
  border: 1px solid rgba(0, 0, 0, 0.05);
}

.btn-secondary:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
  color: var(--primary-color);
}

.btn-secondary:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

.btn-success {
  background-image: var(--success-gradient);
  color: white;
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
}

.btn-success:hover {
  box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
  transform: translateY(-2px);
}

.btn-warning {
  background-image: var(--warning-gradient);
  color: white;
  box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
}

.btn-warning:hover {
  box-shadow: 0 8px 20px rgba(255, 152, 0, 0.3);
  transform: translateY(-2px);
}

.btn-danger {
  background-image: var(--danger-gradient);
  color: white;
  box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
}

.btn-danger:hover {
  box-shadow: 0 8px 20px rgba(244, 67, 54, 0.3);
  transform: translateY(-2px);
}

.btn-outline {
  background-color: transparent;
  border: 2px solid var(--primary-color);
  color: var(--primary-color);
}

.btn-outline:hover {
  background-color: var(--primary-color);
  color: white;
}

.btn-icon {
  width: 44px;
  padding: 0;
  border-radius: var(--border-radius-circle);
}

.btn-lg {
  height: 50px;
  padding: 0 25px;
  font-size: 16px;
}

.btn-sm {
  height: 36px;
  padding: 0 15px;
  font-size: 13px;
}

.btn-icon.btn-lg {
  width: 50px;
}

.btn-icon.btn-sm {
  width: 36px;
}

.btn-block {
  width: 100%;
}

.btn-group {
  display: flex;
  gap: 10px;
}

/* ================= بردکرامب ================= */
.product-breadcrumb {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  margin: 20px 0;
  font-size: 14px;
  color: var(--text-medium);
}

.breadcrumb-item {
  display: inline-flex;
  align-items: center;
}

.breadcrumb-item a {
  color: var(--text-medium);
  transition: var(--transition-medium);
  display: flex;
  align-items: center;
}

.breadcrumb-item a:hover {
  color: var(--primary-color);
}

.breadcrumb-divider {
  margin: 0 8px;
  color: var(--text-light);
  font-size: 12px;
}

.breadcrumb-item:last-child {
  color: var(--primary-color);
  font-weight: 500;
}

/* ================= گالری محصول ================= */
.gallery-main {
  position: relative;
  width: 100%;
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  margin-bottom: 15px;
  box-shadow: var(--shadow-md);
  transition: var(--transition-medium);
  background-color: white;
}

.gallery-main:hover {
  box-shadow: var(--shadow-lg);
}

.gallery-main-image {
  width: 100%;
  height: auto;
  display: block;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  transition: transform 0.5s;
}

.gallery-main:hover .gallery-main-image {
  transform: scale(1.05);
}

.product-badges {
  position: absolute;
  top: 15px;
  right: 15px;
  z-index: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.product-badge {
  padding: 6px 12px;
  border-radius: var(--border-radius-sm);
  font-size: 12px;
  font-weight: 600;
  color: white;
  display: flex;
  align-items: center;
  box-shadow: var(--shadow-sm);
  animation: float 3s ease-in-out infinite;
}

.product-badge i, .product-badge svg {
  margin-left: 6px;
  font-size: 14px;
}

.badge-discount {
  background-image: var(--primary-gradient);
  animation-delay: 0.2s;
}

.badge-popular {
  background: linear-gradient(135deg, #00bcd4, #00a5bb, #00838f);
  animation-delay: 0.4s;
}

.badge-new {
  background: linear-gradient(135deg, #9c27b0, #8e24aa, #7b1fa2);
  animation-delay: 0.6s;
}

.gallery-actions {
  position: absolute;
  top: 15px;
  left: 15px;
  z-index: 1;
  display: flex;
  gap: 10px;
}

.gallery-action-btn {
  width: 40px;
  height: 40px;
  border-radius: var(--border-radius-circle);
  background-color: rgba(255, 255, 255, 0.95);
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: var(--transition-medium);
  color: var(--text-dark);
  box-shadow: var(--shadow-sm);
  transform: translateY(-60px);
  opacity: 0;
}

.gallery-main:hover .gallery-action-btn {
  transform: translateY(0);
  opacity: 1;
}

.gallery-action-btn:nth-child(1) {
  transition-delay: 0.1s;
}

.gallery-action-btn:nth-child(2) {
  transition-delay: 0.2s;
}

.gallery-action-btn:nth-child(3) {
  transition-delay: 0.3s;
}

.gallery-action-btn:hover {
  background-color: white;
  color: var(--primary-color);
  transform: translateY(-5px);
  box-shadow: var(--shadow-md);
}

.gallery-thumbnails {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  scrollbar-width: thin;
  scrollbar-color: #ddd #f5f5f5;
  padding-bottom: 10px;
  scroll-snap-type: x mandatory;
}

.gallery-thumbnails::-webkit-scrollbar {
  height: 6px;
}

.gallery-thumbnails::-webkit-scrollbar-track {
  background: #f5f5f5;
  border-radius: 10px;
}

.gallery-thumbnails::-webkit-scrollbar-thumb {
  background: #ddd;
  border-radius: 10px;
}

.gallery-thumbnails::-webkit-scrollbar-thumb:hover {
  background: #ccc;
}

.gallery-thumbnail {
  width: 80px;
  height: 80px;
  flex: 0 0 80px;
  border-radius: var(--border-radius-md);
  overflow: hidden;
  cursor: pointer;
  border: 2px solid transparent;
  opacity: 0.7;
  transition: var(--transition-medium);
  scroll-snap-align: start;
  position: relative;
  box-shadow: var(--shadow-sm);
}

.gallery-thumbnail::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(33, 150, 243, 0.3);
  opacity: 0;
  transition: var(--transition-medium);
}

.gallery-thumbnail:hover {
  opacity: 0.9;
  transform: translateY(-3px);
  box-shadow: var(--shadow-md);
}

.gallery-thumbnail.active {
  border-color: var(--primary-color);
  opacity: 1;
  transform: scale(1.05);
}

.gallery-thumbnail.active::after {
  opacity: 0.15;
}

.gallery-thumbnail-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s;
}

.gallery-thumbnail:hover .gallery-thumbnail-image {
  transform: scale(1.08);
}

/* ================= اطلاعات محصول ================= */
.product-wrapper {
  display: flex;
  flex-wrap: wrap;
  margin: 30px 0;
  gap: 30px;
}

.product-gallery {
  flex: 1;
  min-width: 300px;
  max-width: 500px;
}

.product-info {
  flex: 1;
  min-width: 300px;
}

.product-info-card {
  background-color: white;
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-md);
  padding: 25px;
  transition: var(--transition-medium);
}

.product-info-card:hover {
  box-shadow: var(--shadow-lg);
}

.product-header {
  margin-bottom: 25px;
}

.product-brand {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
  color: var(--text-medium);
  font-size: 14px;
}

.product-brand img {
  height: 20px;
  margin-left: 8px;
}

.product-title {
  font-size: 26px;
  font-weight: 700;
  margin: 0 0 12px 0;
  line-height: 1.3;
  color: var(--text-dark);
  transition: var(--transition-medium);
}

.product-info-card:hover .product-title {
  color: var(--primary-color);
}

.product-subtitle {
  font-size: 16px;
  color: var(--text-medium);
  margin: 0 0 15px 0;
  line-height: 1.5;
}

.product-rating {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}

.rating-stars {
  display: flex;
  margin-left: 10px;
}

.rating-star {
  color: #ffc107;
  font-size: 18px;
}

.rating-text {
  font-size: 14px;
  color: var(--text-medium);
  display: flex;
  align-items: center;
}

.rating-count {
  font-weight: 600;
  margin-left: 4px;
  color: var(--text-dark);
}

.product-pricing {
  display: flex;
  align-items: center;
  margin-bottom: 25px;
  flex-wrap: wrap;
  gap: 10px;
}

.product-price {
  font-size: 26px;
  font-weight: 700;
  color: var(--primary-color);
  margin-left: 15px;
}

.product-old-price {
  font-size: 18px;
  text-decoration: line-through;
  color: var(--text-light);
  margin-left: 15px;
}

.product-discount-percent {
  background-image: var(--primary-gradient);
  color: white;
  font-size: 12px;
  padding: 5px 10px;
  border-radius: var(--border-radius-sm);
  display: flex;
  align-items: center;
  box-shadow: 0 3px 10px rgba(33, 150, 243, 0.2);
}

.product-discount-percent i {
  margin-left: 5px;
}

.product-description {
  background-color: #f9f9f9;
  border-radius: var(--border-radius-md);
  padding: 20px;
  margin-bottom: 25px;
  font-size: 15px;
  line-height: 1.6;
  color: var(--text-medium);
  position: relative;
  overflow: hidden;
}

.product-description::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  height: 100%;
  width: 5px;
  background-image: var(--primary-gradient);
  border-radius: 5px 0 0 5px;
}

/* ================= انتخاب سایز و تعداد ================= */
.product-options {
  margin-bottom: 25px;
}

.option-group {
  margin-bottom: 20px;
}

.option-group:last-child {
  margin-bottom: 0;
}

.option-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.option-label {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-dark);
  display: flex;
  align-items: center;
}

.option-label i, .option-label svg {
  margin-left: 6px;
  color: var(--primary-color);
  font-size: 18px;
}

.option-selected {
  font-size: 13px;
  color: var(--text-medium);
  background-color: rgba(33, 150, 243, 0.1);
  padding: 4px 10px;
  border-radius: 12px;
  transition: var(--transition-medium);
}

.size-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
  gap: 10px;
}

.size-option {
  height: 45px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: white;
  border: 2px solid #eee;
  border-radius: var(--border-radius-sm);
  font-size: 14px;
  font-weight: 500;
  color: var(--text-dark);
  cursor: pointer;
  transition: var(--transition-medium);
  position: relative;
  overflow: hidden;
}

.size-option:hover:not(.unavailable) {
  border-color: var(--primary-light);
  transform: translateY(-3px);
  box-shadow: var(--shadow-sm);
}

.size-option.selected {
  background-color: var(--primary-color);
  border-color: var(--primary-color);
  color: white;
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(33, 150, 243, 0.2);
}

.size-option.unavailable {
  opacity: 0.5;
  cursor: not-allowed;
  position: relative;
}

.size-option.unavailable::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 2px;
  background-color: var(--text-light);
  transform: rotate(-45deg);
}

.quantity-control {
  max-width: 200px;
}

.quantity-stepper {
  display: flex;
  align-items: center;
  border: 2px solid #eee;
  border-radius: var(--border-radius-md);
  overflow: hidden;
  transition: var(--transition-medium);
}

.quantity-stepper:focus-within {
  border-color: var(--primary-light);
  box-shadow: 0 3px 12px rgba(33, 150, 243, 0.1);
}

.quantity-btn {
  width: 45px;
  height: 45px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: white;
  border: none;
  cursor: pointer;
  transition: var(--transition-medium);
  color: var(--text-dark);
  font-size: 16px;
}

.quantity-btn:hover:not(:disabled) {
  background-color: var(--primary-light);
  color: var(--primary-color);
}

.quantity-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.quantity-display {
  flex: 1;
  padding: 0 15px;
  background-color: white;
  text-align: center;
  font-size: 16px;
  font-weight: 600;
  height: 45px;
  line-height: 45px;
  color: var(--text-dark);
}

/* ================= ویژگی‌های محصول ================= */
.product-features {
  margin-bottom: 25px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 15px;
}

.feature-item {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  background-color: #f9f9f9;
  border-radius: var(--border-radius-md);
  transition: var(--transition-medium);
  border-right: 3px solid var(--primary-light);
}

.feature-item:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-sm);
  background-color: white;
  border-right-color: var(--primary-color);
}

.feature-icon {
  width: 35px;
  height: 35px;
  border-radius: var(--border-radius-circle);
  background-color: rgba(33, 150, 243, 0.1);
  color: var(--primary-color);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: 12px;
  font-size: 16px;
  transition: var(--transition-medium);
  flex-shrink: 0;
}

.feature-item:hover .feature-icon {
  background-color: var(--primary-color);
  color: white;
  transform: scale(1.1);
  box-shadow: 0 3px 10px rgba(33, 150, 243, 0.2);
}

.feature-text {
  font-size: 14px;
  color: var(--text-medium);
  line-height: 1.5;
  transition: var(--transition-medium);
}

.feature-item:hover .feature-text {
  color: var(--text-dark);
}

/* ================= دکمه‌های اصلی محصول ================= */
.product-actions {
  display: flex;
  gap: 12px;
  margin-bottom: 25px;
}

.cart-action {
  position: relative;
  overflow: hidden;
  flex: 1;
}

.cart-action .cart-icon {
  position: absolute;
  top: 50%;
  right: 15px;
  transform: translateY(-50%);
  font-size: 18px;
  opacity: 0;
  transition: var(--transition-medium);
}

.cart-action:hover .cart-icon {
  opacity: 1;
  transform: translate(-10px, -50%);
}

.cart-action .btn-text {
  transition: var(--transition-medium);
}

.cart-action:hover .btn-text {
  transform: translateX(-15px);
}

/* ================= بخش شبکه‌های اجتماعی ================= */
.social-section {
  margin-top: 30px;
  border-top: 1px solid rgba(0, 0, 0, 0.05);
  padding-top: 25px;
}

.social-title {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 20px;
  color: var(--text-dark);
  display: flex;
  align-items: center;
}

.social-title i, .social-title svg {
  margin-left: 8px;
  color: var(--primary-color);
}

.social-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
}

.social-link {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  color: white;
  padding: 15px;
  border-radius: var(--border-radius-md);
  transition: transform 0.3s, box-shadow 0.3s;
  box-shadow: var(--shadow-sm);
  position: relative;
  overflow: hidden;
}

.social-link::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.1);
  transform: translateY(100%);
  transition: transform 0.3s;
  z-index: 0;
}

.social-link:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.social-link:hover::before {
  transform: translateY(0);
}

.social-link i, .social-link svg {
  font-size: 28px;
  margin-bottom: 10px;
  position: relative;
  z-index: 1;
}

.social-link span {
  font-size: 14px;
  font-weight: 500;
  position: relative;
  z-index: 1;
}

.social-telegram {
  background: linear-gradient(135deg, #0088cc, #0077b3);
}

.social-whatsapp {
  background: linear-gradient(135deg, #25D366, #1da851);
}

.social-instagram {
  background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
}

/* ================= تب‌های محصول ================= */
.product-tabs {
  margin: 50px 0;
}

.tabs-container {
  background-color: white;
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-md);
  overflow: hidden;
  transition: var(--transition-medium);
}

.tabs-container:hover {
  box-shadow: var(--shadow-lg);
}

.tabs-header {
  display: flex;
  overflow-x: auto;
  scrollbar-width: none;
  background-color: #f9f9f9;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  position: relative;
}

.tabs-header::-webkit-scrollbar {
  display: none;
}

.tabs-header::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 1px;
  background: linear-gradient(to right, var(--primary-color), transparent);
}

.tab-button {
  padding: 18px 25px;
  white-space: nowrap;
  background: none;
  border: none;
  font-family: inherit;
  font-size: 15px;
  font-weight: 500;
  color: var(--text-medium);
  cursor: pointer;
  transition: var(--transition-medium);
  position: relative;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
}

.tab-button i, .tab-button svg {
  margin-left: 8px;
  font-size: 18px;
  transition: var(--transition-medium);
}

.tab-button::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 3px;
  background-color: var(--primary-color);
  transform: scaleX(0);
  transition: transform 0.3s var(--easing-bounce);
  transform-origin: right;
}

.tab-button:hover {
  color: var(--primary-color);
  background-color: rgba(33, 150, 243, 0.03);
}

.tab-button:hover i, .tab-button:hover svg {
  transform: translateY(-2px);
}

.tab-button.active {
  color: var(--primary-color);
  background-color: white;
  font-weight: 600;
}

.tab-button.active::after {
  transform: scaleX(1);
  transform-origin: left;
}

.tab-content {
  padding: 30px;
  display: none;
  animation: fadeIn 0.5s;
}

.tab-content.active {
  display: block;
}

.tab-content h3 {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 20px;
  color: var(--text-dark);
  display: flex;
  align-items: center;
}

.tab-content h3::before {
  content: '';
  width: 4px;
  height: 18px;
  background-color: var(--primary-color);
  margin-left: 10px;
  border-radius: 2px;
  display: inline-block;
}

.tab-content p {
  font-size: 15px;
  line-height: 1.8;
  color: var(--text-medium);
  margin-bottom: 20px;
}

.tab-content p:last-child {
  margin-bottom: 0;
}

/* ================= جدول مشخصات فنی ================= */
.spec-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border-radius: var(--border-radius-md);
  overflow: hidden;
  margin-bottom: 25px;
  box-shadow: 0 3px 15px rgba(0, 0, 0, 0.05);
  transition: all 0.3s var(--easing-bounce);
}

.spec-table:hover {
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
  transform: translateY(-5px);
}

.spec-row {
  transition: background-color 0.3s;
}

.spec-row:hover {
  background-color: rgba(33, 150, 243, 0.05);
}

.spec-row:last-child td {
  border-bottom: none;
}

.spec-name {
  width: 35%;
  padding: 16px 20px;
  font-size: 15px;
  font-weight: 500;
  color: var(--text-dark);
  background-color: rgba(33, 150, 243, 0.05);
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  position: relative;
}

.spec-name::before {
  content: '';
  position: absolute;
  right: 0;
  top: 0;
  height: 100%;
  width: 4px;
  background-color: var(--primary-color);
  opacity: 0;
  transform: scaleY(0);
  transition: transform 0.3s, opacity 0.3s;
}

.spec-row:hover .spec-name::before {
  opacity: 1;
  transform: scaleY(1);
}

.spec-value {
  padding: 16px 20px;
  font-size: 15px;
  color: var(--text-medium);
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  line-height: 1.6;
  transition: color 0.3s;
}

.spec-row:hover .spec-value {
  color: var(--text-dark);
}

/* ================= محصولات مشابه ================= */
.similar-products {
  margin: 50px 0;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
}

.section-title {
  font-size: 26px;
  font-weight: 700;
  color: var(--text-dark);
  position: relative;
  padding-right: 15px;
}

.section-title::before {
  content: '';
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 5px;
  height: 30px;
  background-color: var(--primary-color);
  border-radius: 5px;
}

.section-title::after {
  content: '';
  position: absolute;
  bottom: -8px;
  right: 15px;
  width: 50px;
  height: 3px;
  background-color: var(--primary-color);
  opacity: 0.5;
}

.products-scroll {
  display: flex;
  overflow-x: auto;
  padding: 15px 5px 25px;
  scrollbar-width: thin;
  scrollbar-color: var(--primary-light) #f5f5f5;
  scroll-snap-type: x mandatory;
  gap: 20px;
  -webkit-overflow-scrolling: touch;
  mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
  -webkit-mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
}

.products-scroll::-webkit-scrollbar {
  height: 6px;
}

.products-scroll::-webkit-scrollbar-track {
  background: #f5f5f5;
  border-radius: 10px;
}

.products-scroll::-webkit-scrollbar-thumb {
  background: var(--primary-light);
  border-radius: 10px;
}

.products-scroll::-webkit-scrollbar-thumb:hover {
  background: var(--primary-color);
}

/* ================= کارت محصول ================= */
.product-card {
  display: flex;
  flex-direction: column;
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-md);
  background-color: white;
  transition: all 0.4s var(--easing-bounce);
  flex: 0 0 auto;
  width: 260px;
  scroll-snap-align: start;
  position: relative;
}

.product-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
}

.product-card::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 0;
  background: linear-gradient(to bottom, var(--primary-light), transparent);
  opacity: 0.5;
  transition: height 0.5s;
  z-index: 0;
}

.product-card:hover::after {
  height: 5px;
}

.product-card-image {
  position: relative;
  width: 100%;
  padding-top: 100%;
  overflow: hidden;
  z-index: 1;
}

.product-card-img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.6s var(--easing-bounce);
}

.product-card:hover .product-card-img {
  transform: scale(1.12);
}

.product-card-badge {
  position: absolute;
  top: 15px;
  right: 15px;
  background-image: var(--primary-gradient);
  color: white;
  padding: 5px 10px;
  border-radius: 25px;
  font-size: 12px;
  font-weight: 500;
  z-index: 2;
  box-shadow: 0 3px 10px rgba(33, 150, 243, 0.2);
  animation: float 3s ease-in-out infinite;
  display: flex;
  align-items: center;
}

.product-card-badge i, .product-card-badge svg {
  margin-left: 4px;
  font-size: 14px;
}

.product-card-body {
  padding: 18px;
  display: flex;
  flex-direction: column;
  flex: 1;
  position: relative;
  z-index: 1;
}

.product-card-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 12px;
  text-decoration: none;
  line-height: 1.5;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  max-height: 3em;
  transition: color 0.3s;
}

.product-card:hover .product-card-title {
  color: var(--primary-color);
}

.product-card-prices {
  margin-bottom: 12px;
  display: flex;
  flex-direction: column;
}

.product-card-price {
  font-size: 18px;
  font-weight: 700;
  color: var(--primary-color);
}

.product-card-old-price {
  font-size: 14px;
  color: var(--text-light);
  text-decoration: line-through;
  margin-top: 4px;
}

.product-card-actions {
  display: flex;
  gap: 10px;
  margin-top: auto;
}

.card-btn {
  height: 38px;
  font-size: 13px;
}

.btn-primary.card-btn {
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.btn-icon.card-btn {
  width: 38px;
  min-width: 38px;
  padding: 0;
}

.product-card-actions .btn {
  transform: translateY(60px);
  opacity: 0;
  transition: transform 0.4s var(--easing-bounce), opacity 0.4s, background-color 0.3s, color 0.3s, box-shadow 0.3s;
}

.product-card-actions .btn:nth-child(1) {
  transition-delay: 0.05s;
}

.product-card-actions .btn:nth-child(2) {
  transition-delay: 0.1s;
}

.product-card-actions .btn:nth-child(3) {
  transition-delay: 0.15s;
}

.product-card:hover .product-card-actions .btn {
  transform: translateY(0);
  opacity: 1;
}

/* ================= سبد خرید شناور ================= */
.fab-cart {
  position: fixed;
  bottom: 25px;
  left: 25px;
  z-index: 90;
}

.fab-button {
  width: 60px;
  height: 60px;
  border-radius: var(--border-radius-circle);
  background-image: var(--primary-gradient);
  color: white;
  border: none;
  box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  cursor: pointer;
  transition: all 0.3s var(--easing-bounce);
  position: relative;
  overflow: hidden;
}

.fab-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.1);
  opacity: 0;
  transition: opacity 0.3s;
}

.fab-button:hover {
  transform: translateY(-5px) scale(1.05);
  box-shadow: 0 8px 25px rgba(33, 150, 243, 0.4);
}

.fab-button:hover::before {
  opacity: 1;
}

.fab-button:active {
  transform: translateY(0) scale(0.95);
}

.fab-badge {
  position: absolute;
  top: -5px;
  right: -5px;
  background-color: white;
  color: var(--primary-color);
  font-size: 12px;
  font-weight: 700;
  min-width: 24px;
  height: 24px;
  border-radius: var(--border-radius-circle);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  padding: 0 5px;
}

/* ================= منوی اشتراک‌گذاری ================= */
.share-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 950;
  display: none;
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  opacity: 0;
  transition: opacity 0.5s;
}

.share-overlay.active {
  opacity: 1;
}

.share-menu {
  position: fixed;
  bottom: -100%;
  left: 0;
  width: 100%;
  background-color: white;
  border-radius: 30px 30px 0 0;
  box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.2);
  z-index: 951;
  transition: bottom 0.5s var(--easing-bounce);
  direction: rtl;
  max-height: 85vh;
  overflow-y: auto;
  transform: translateZ(0);
}

.share-menu.active {
  bottom: 0;
}

.share-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 25px 25px 20px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  position: sticky;
  top: 0;
  background-color: white;
  z-index: 2;
}

.share-header::after {
  content: '';
  position: absolute;
  top: -25px;
  left: 50%;
  transform: translateX(-50%);
  width: 60px;
  height: 5px;
  background-color: #ddd;
  border-radius: 5px;
}

.share-title {
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  color: var(--text-dark);
  display: flex;
  align-items: center;
}

.share-title i, .share-title svg {
  margin-left: 10px;
  color: var(--primary-color);
  font-size: 22px;
}

.share-close {
  background: none;
  border: none;
  font-size: 22px;
  color: var(--text-medium);
  cursor: pointer;
  padding: 0;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--border-radius-circle);
  transition: all 0.3s var(--easing-bounce);
  background-color: rgba(0, 0, 0, 0.05);
}

.share-close:hover {
  background-color: rgba(244, 67, 54, 0.1);
  color: var(--danger-color);
  transform: rotate(90deg);
}

.share-content {
  padding: 25px;
}

.share-product-info {
  display: flex;
  align-items: center;
  margin-bottom: 30px;
  background-color: #f9f9f9;
  padding: 15px;
  border-radius: var(--border-radius-lg);
  box-shadow: 0 3px 15px rgba(0, 0, 0, 0.03);
  transition: all 0.3s var(--easing-bounce);
  position: relative;
  overflow: hidden;
}

.share-product-info::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  height: 100%;
  width: 5px;
  background-image: var(--primary-gradient);
  border-radius: 0 5px 5px 0;
}

.share-product-info:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.05);
}

.share-product-image {
  width: 90px;
  height: 90px;
  object-fit: cover;
  border-radius: var(--border-radius-md);
  margin-left: 20px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
  transition: transform 0.3s var(--easing-bounce);
}

.share-product-info:hover .share-product-image {
  transform: scale(1.05);
}

.share-product-details {
  flex: 1;
}

.share-product-title {
  font-size: 16px;
  font-weight: 600;
  margin: 0 0 10px 0;
  color: var(--text-dark);
  line-height: 1.4;
}

.share-product-price {
  font-size: 15px;
  color: var(--primary-color);
  font-weight: 600;
  margin: 0;
  display: inline-block;
  background-color: rgba(33, 150, 243, 0.1);
  padding: 5px 10px;
  border-radius: 20px;
}

.share-options {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 20px;
  margin-bottom: 30px;
}

.share-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-decoration: none;
  color: var(--text-dark);
  transition: transform 0.3s var(--easing-bounce);
}

.share-option:hover {
  transform: translateY(-8px);
}

.share-option-icon {
  width: 60px;
  height: 60px;
  border-radius: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;
  color: white;
  font-size: 24px;
  transition: all 0.3s var(--easing-bounce);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  position: relative;
  overflow: hidden;
}

.share-option-icon::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.1);
  opacity: 0;
  transition: opacity 0.3s;
}

.share-option-icon::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.15);
  transition: transform 0.3s;
}

.share-option:hover .share-option-icon::after {
  transform: translateY(-100%);
}

.share-option:hover .share-option-icon {
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.share-telegram {
  background: linear-gradient(135deg, #0088cc, #005f91);
}

.share-whatsapp {
  background: linear-gradient(135deg, #25D366, #1da851);
}

.share-twitter {
  background: linear-gradient(135deg, #1DA1F2, #0c85d0);
}

.share-facebook {
  background: linear-gradient(135deg, #4267B2, #35549B);
}

.share-linkedin {
  background: linear-gradient(135deg, #0077B5, #005885);
}

.share-option-name {
  font-size: 13px;
  font-weight: 500;
  transition: color 0.3s;
}

.share-option:hover .share-option-name {
  color: var(--primary-color);
}

.share-link-container {
  background-color: #f9f9f9;
  padding: 20px;
  border-radius: var(--border-radius-lg);
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.03);
  position: relative;
  overflow: hidden;
}

.share-link-container::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  height: 100%;
  width: 3px;
  background-image: var(--primary-gradient);
  border-radius: 3px 0 0 3px;
}

.share-link-label {
  font-size: 15px;
  margin: 0 0 15px 0;
  color: var(--text-medium);
  display: flex;
  align-items: center;
}

.share-link-label i, .share-link-label svg {
  margin-left: 8px;
  color: var(--primary-color);
  font-size: 18px;
}

.share-link-box {
  display: flex;
  border: 1px solid rgba(0, 0, 0, 0.08);
  border-radius: var(--border-radius-md);
  overflow: hidden;
  background: white;
  box-shadow: 0 3px 10px rgba(0, 0,  0, 0.03);
  transition: all 0.3s var(--easing-bounce);
}

.share-link-box:focus-within {
  box-shadow: 0 5px 15px rgba(33, 150, 243, 0.15);
  border-color: var(--primary-color);
}

.share-link-input {
  flex: 1;
  border: none;
  padding: 12px 15px;
  font-size: 14px;
  color: var(--text-dark);
  direction: ltr;
  text-align: left;
  background-color: transparent;
}

.share-link-input:focus {
  outline: none;
}

.share-link-copy {
  border: none;
  background-image: var(--primary-gradient);
  padding: 0 20px;
  color: white;
  cursor: pointer;
  transition: all 0.3s var(--easing-bounce);
  font-weight: 600;
  display: flex;
  align-items: center;
  white-space: nowrap;
}

.share-link-copy i, .share-link-copy svg {
  margin-left: 8px;
  font-size: 16px;
}

.share-link-copy:hover {
  background-image: linear-gradient(135deg, #1e88e5, #1976d2, #1565c0);
}

/* ================= مدال سبد خرید ================= */
.cart-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 900;
  display: none;
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  opacity: 0;
  transition: opacity 0.5s;
}

.cart-backdrop.active {
  opacity: 1;
}

.cart-sidebar {
  position: fixed;
  top: 0;
  left: -450px;
  width: 100%;
  max-width: 450px;
  height: 100%;
  background-color: white;
  z-index: 901;
  transition: left 0.5s var(--easing-bounce);
  display: flex;
  flex-direction: column;
  box-shadow: 5px 0 30px rgba(0, 0, 0, 0.15);
}

.cart-sidebar.active {
  left: 0;
}

.cart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  position: relative;
}

.cart-header::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 20px;
  right: 20px;
  height: 1px;
  background: linear-gradient(to right, var(--primary-color), transparent);
}

.cart-title {
  font-size: 20px;
  font-weight: 600;
  display: flex;
  align-items: center;
  color: var(--text-dark);
}

.cart-title i, .cart-title svg {
  margin-left: 10px;
  color: var(--primary-color);
  font-size: 22px;
}

.cart-counter {
  background-image: var(--primary-gradient);
  color: white;
  min-width: 24px;
  height: 24px;
  border-radius: var(--border-radius-circle);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  margin-right: 10px;
  font-weight: 600;
  box-shadow: 0 3px 10px rgba(33, 150, 243, 0.2);
  padding: 0 5px;
}

.cart-close-btn {
  background: none;
  border: none;
  font-size: 22px;
  color: var(--text-medium);
  cursor: pointer;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--border-radius-circle);
  transition: all 0.3s var(--easing-bounce);
  background-color: rgba(0, 0, 0, 0.05);
}

.cart-close-btn:hover {
  background-color: rgba(244, 67, 54, 0.1);
  color: var(--danger-color);
  transform: rotate(90deg);
}

.cart-body {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}

.cart-footer {
  border-top: 1px solid rgba(0, 0, 0, 0.05);
  padding: 20px;
  position: relative;
}

.cart-footer::before {
  content: '';
  position: absolute;
  top: -1px;
  left: 20px;
  right: 20px;
  height: 1px;
  background: linear-gradient(to right, var(--primary-color), transparent);
}

.discount-form {
  display: flex;
  margin-bottom: 20px;
}

.discount-input {
  flex: 1;
  height: 45px;
  border: 2px solid #eee;
  border-top-right-radius: var(--border-radius-md);
  border-bottom-right-radius: var(--border-radius-md);
  padding: 0 15px;
  font-family: inherit;
  font-size: 14px;
  transition: var(--transition-medium);
}

.discount-input:focus {
  outline: none;
  border-color: var(--primary-light);
  box-shadow: 0 3px 10px rgba(33, 150, 243, 0.1);
}

.discount-apply {
  background-image: var(--primary-gradient);
  color: white;
  border: none;
  padding: 0 20px;
  font-family: inherit;
  font-weight: 600;
  cursor: pointer;
  border-top-left-radius: var(--border-radius-md);
  border-bottom-left-radius: var(--border-radius-md);
  transition: var(--transition-medium);
  display: flex;
  align-items: center;
  white-space: nowrap;
}

.discount-apply i, .discount-apply svg {
  margin-left: 8px;
  font-size: 16px;
}

.discount-apply:hover {
  background-image: linear-gradient(135deg, #1e88e5, #1976d2, #1565c0);
  box-shadow: 0 5px 15px rgba(33, 150, 243, 0.2);
}

.cart-summary {
  background-color: #f9f9f9;
  border-radius: var(--border-radius-lg);
  padding: 20px;
  margin-bottom: 20px;
  transition: var(--transition-medium);
  position: relative;
  overflow: hidden;
}

.cart-summary::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  height: 100%;
  width: 4px;
  background-image: var(--primary-gradient);
  border-radius: 4px 0 0 4px;
}

.cart-summary:hover {
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  background-color: white;
}

.summary-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  font-size: 15px;
}

.summary-row:last-child {
  margin-bottom: 0;
}

.summary-title {
  color: var(--text-medium);
}

.summary-value {
  font-weight: 500;
  color: var(--text-dark);
}

.summary-total {
  border-top: 1px dashed rgba(0, 0, 0, 0.1);
  margin-top: 12px;
  padding-top: 12px;
}

.summary-total .summary-title {
  font-weight: 600;
  color: var(--text-dark);
}

.summary-total .summary-value {
  font-weight: 700;
  color: var(--primary-color);
  font-size: 18px;
}

.checkout-btn {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-image: var(--success-gradient);
  color: white;
  border: none;
  width: 100%;
  height: 50px;
  border-radius: var(--border-radius-md);
  padding: 0 20px;
  font-family: inherit;
  font-size: 16px;
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s var(--easing-bounce);
  box-shadow: 0 5px 15px rgba(76, 175, 80, 0.2);
  position: relative;
  overflow: hidden;
}

.checkout-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.1);
  opacity: 0;
  transition: opacity 0.3s;
}

.checkout-btn:hover {
  background-image: linear-gradient(135deg, #43a047, #388e3c, #2e7d32);
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
}

.checkout-btn:hover::before {
  opacity: 1;
}

.checkout-btn:active {
  transform: translateY(0);
}

.checkout-btn i, .checkout-btn svg {
  font-size: 20px;
}

/* ================= استایل‌های آیتم سبد خرید ================= */
.cart-item {
  display: flex;
  padding: 15px 0;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  transition: var(--transition-medium);
}

.cart-item:hover {
  background-color: rgba(33, 150, 243, 0.02);
}

.cart-item:last-child {
  border-bottom: none;
}

.cart-item-image {
  width: 90px;
  height: 90px;
  border-radius: var(--border-radius-md);
  overflow: hidden;
  margin-left: 15px;
  box-shadow: var(--shadow-sm);
  transition: var(--transition-medium);
}

.cart-item:hover .cart-item-image {
  transform: translateY(-3px);
  box-shadow: var(--shadow-md);
}

.cart-item-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s;
}

.cart-item:hover .cart-item-image img {
  transform: scale(1.08);
}

.cart-item-details {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.cart-item-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 8px;
  transition: color 0.3s;
}

.cart-item:hover .cart-item-title {
  color: var(--primary-color);
}

.cart-item-options {
  font-size: 13px;
  color: var(--text-medium);
  margin-bottom: 8px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.cart-item-option {
  background-color: #f5f5f5;
  padding: 3px 8px;
  border-radius: 10px;
  transition: var(--transition-medium);
}

.cart-item:hover .cart-item-option {
  background-color: rgba(33, 150, 243, 0.08);
}

.cart-item-price {
  font-size: 14px;
  font-weight: 600;
  color: var(--primary-color);
  margin-top: auto;
  display: flex;
  align-items: center;
}

.cart-item-old-price {
  font-size: 12px;
  color: var(--text-light);
  text-decoration: line-through;
  margin-right: 8px;
}

.cart-item-controls {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: space-between;
}

.cart-item-quantity {
  display: flex;
  align-items: center;
  border: 1px solid #eee;
  border-radius: var(--border-radius-sm);
  overflow: hidden;
  transition: var(--transition-medium);
}

.cart-item:hover .cart-item-quantity {
  border-color: var(--primary-light);
  box-shadow: 0 2px 8px rgba(33, 150, 243, 0.1);
}

.cart-quantity-btn {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f5f5f5;
  border: none;
  cursor: pointer;
  font-size: 12px;
  transition: var(--transition-medium);
  color: var(--text-dark);
}

.cart-quantity-btn:hover {
  background-color: var(--primary-light);
  color: var(--primary-color);
}

.cart-quantity-text {
  width: 30px;
  text-align: center;
  font-size: 13px;
  font-weight: 600;
  color: var(--text-dark);
}

.cart-item-remove {
  margin-top: 10px;
  font-size: 13px;
  color: var(--text-light);
  background: none;
  border: none;
  cursor: pointer;
  transition: var(--transition-medium);
  display: flex;
  align-items: center;
}

.cart-item-remove i, .cart-item-remove svg {
  margin-left: 5px;
  font-size: 14px;
  transition: transform 0.3s;
}

.cart-item-remove:hover {
  color: var(--danger-color);
}

.cart-item-remove:hover i, .cart-item-remove:hover svg {
  transform: translateX(-3px);
}

.cart-empty {
  padding: 40px 20px;
  text-align: center;
}

.cart-empty-icon {
  font-size: 50px;
  color: #ddd;
  margin-bottom: 15px;
  animation: float 3s ease-in-out infinite;
}

.cart-empty-text {
  font-size: 16px;
  color: var(--text-medium);
  margin-bottom: 25px;
}

.cart-empty-btn {
  background-image: var(--primary-gradient);
  color: white;
  border: none;
  border-radius: var(--border-radius-md);
  padding: 12px 25px;
  font-family: inherit;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s var(--easing-bounce);
  box-shadow: var(--shadow-primary);
  display: inline-flex;
  align-items: center;
}

.cart-empty-btn i, .cart-empty-btn svg {
  margin-left: 8px;
}

.cart-empty-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(33, 150, 243, 0.3);
}

/* ================= مدال بزرگنمایی تصویر ================= */
.zoom-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.9);
  z-index: 950;
  display: none;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  opacity: 0;
  transition: opacity 0.5s;
}

.zoom-backdrop.active {
  opacity: 1;
}

.zoom-content {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.9);
  width: 90%;
  max-width: 900px;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: transform 0.5s var(--easing-bounce);
}

.zoom-backdrop.active .zoom-content {
  transform: translate(-50%, -50%) scale(1);
}

.zoom-close {
  position: absolute;
  top: 15px;
  right: 15px;
  width: 40px;
  height: 40px;
  border-radius: var(--border-radius-circle);
  background-color: rgba(255, 255, 255, 0.2);
  color: white;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s var(--easing-bounce);
  z-index: 2;
  font-size: 18px;
}

.zoom-close:hover {
  background-color: rgba(255, 255, 255, 0.3);
  transform: rotate(90deg);
}

.zoom-img {
  max-width: 100%;
  max-height: 70vh;
  border-radius: var(--border-radius-lg);
  margin-bottom: 25px;
  object-fit: contain;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
  transition: transform 0.5s;
}

.zoom-img:hover {
  transform: scale(1.02);
}

.zoom-thumbnails {
  display: flex;
  gap: 15px;
  justify-content: center;
  flex-wrap: wrap;
}

.zoom-thumbnail {
  width: 70px;
  height: 70px;
  border-radius: var(--border-radius-md);
  overflow: hidden;
  cursor: pointer;
  border: 2px solid transparent;
  opacity: 0.6;
  transition: all 0.3s var(--easing-bounce);
  transform: translateY(30px);
  animation: slideUp 0.5s forwards;
}

.zoom-thumbnail:nth-child(2) {
  animation-delay: 0.1s;
}

.zoom-thumbnail:nth-child(3) {
  animation-delay: 0.2s;
}

.zoom-thumbnail:nth-child(4) {
  animation-delay: 0.3s;
}

.zoom-thumbnail:nth-child(5) {
  animation-delay: 0.4s;
}

.zoom-thumbnail.active {
  border-color: var(--primary-color);
  opacity: 1;
  transform: scale(1.1);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.zoom-thumbnail:hover:not(.active) {
  opacity: 0.9;
  transform: translateY(-5px);
}

.zoom-thumbnail-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s;
}

.zoom-thumbnail:hover .zoom-thumbnail-img {
  transform: scale(1.1);
}

/* ================= بخش دیدگاه کاربران ================= */
.comments-list {
  margin-top: 25px;
}

.comment-item {
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  padding-bottom: 20px;
  margin-bottom: 20px;
  transition: var(--transition-medium);
}

.comment-item:hover {
  transform: translateY(-3px);
}

.comment-item:last-child {
  border-bottom: none;
  margin-bottom: 0;
}

.comment-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

.comment-user {
  font-weight: 600;
  color: var(--text-dark);
  font-size: 15px;
  display: flex;
  align-items: center;
}

.comment-user i, .comment-user svg {
  margin-left: 6px;
  color: var(--primary-color);
  font-size: 16px;
}

.comment-date {
  font-size: 13px;
  color: var(--text-light);
}

.comment-rating {
  margin-bottom: 10px;
  display: flex;
}

.comment-rating i, .comment-rating svg {
  color: #ffc107;
  font-size: 16px;
  margin-left: 2px;
}

.comment-text {
  font-size: 14px;
  line-height: 1.7;
  color: var(--text-medium);
  background-color: #f9f9f9;
  padding: 15px;
  border-radius: var(--border-radius-md);
  position: relative;
  border-right: 3px solid rgba(33, 150, 243, 0.3);
  transition: var(--transition-medium);
}

.comment-item:hover .comment-text {
  background-color: rgba(33, 150, 243, 0.05);
  border-right-color: var(--primary-color);
}

.comment-likes {
  display: flex;
  align-items: center;
  margin-top: 12px;
  font-size: 13px;
  color: var(--text-medium);
}

.comment-like-btn {
  display: flex;
  align-items: center;
  background: none;
  border: none;
  color: var(--text-medium);
  margin-right: 15px;
  cursor: pointer;
  transition: var(--transition-medium);
  padding: 5px 10px;
  border-radius: var(--border-radius-sm);
}

.comment-like-btn i, .comment-like-btn svg {
  margin-left: 5px;
  font-size: 14px;
}

.comment-like-btn:hover {
  color: var(--success-color);
  background-color: rgba(76, 175, 80, 0.1);
}

.comment-dislike-btn {
  display: flex;
  align-items: center;
  background: none;
  border: none;
  color: var(--text-medium);
  cursor: pointer;
  transition: var(--transition-medium);
  padding: 5px 10px;
  border-radius: var(--border-radius-sm);
}

.comment-dislike-btn i, .comment-dislike-btn svg {
  margin-left: 5px;
  font-size: 14px;
}

.comment-dislike-btn:hover {
  color: var(--danger-color);
  background-color: rgba(244, 67, 54, 0.1);
}

.comment-form {
  margin-top: 30px;
  background-color: #f9f9f9;
  padding: 25px;
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-sm);
  transition: var(--transition-medium);
  position: relative;
  overflow: hidden;
}

.comment-form::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  height: 100%;
  width: 4px;
  background-image: var(--primary-gradient);
  border-radius: 4px 0 0 4px;
}

.comment-form:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-5px);
}

.comment-form-title {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 20px;
  color: var(--text-dark);
  display: flex;
  align-items: center;
}

.comment-form-title i, .comment-form-title svg {
  margin-left: 8px;
  color: var(--primary-color);
  font-size: 20px;
}

.form-group {
  margin-bottom: 20px;
}

.form-label {
  display: block;
  font-size: 15px;
  font-weight: 500;
  margin-bottom: 10px;
  color: var(--text-dark);
}

.form-input {
  width: 100%;
  height: 45px;
  border: 2px solid #eee;
  border-radius: var(--border-radius-md);
  padding: 0 15px;
  font-family: inherit;
  font-size: 14px;
  transition: var(--transition-medium);
}

.form-input:focus {
  outline: none;
  border-color: var(--primary-light);
  box-shadow: 0 3px 10px rgba(33, 150, 243, 0.1);
}

.form-textarea {
  width: 100%;
  height: 140px;
  border: 2px solid #eee;
  border-radius: var(--border-radius-md);
  padding: 12px 15px;
  font-family: inherit;
  font-size: 14px;
  resize: vertical;
  transition: var(--transition-medium);
}

.form-textarea:focus {
  outline: none;
  border-color: var(--primary-light);
  box-shadow: 0 3px 10px rgba(33, 150, 243, 0.1);
}

.rating-input {
  display: flex;
  gap: 12px;
  margin-bottom: 12px;
}

.rating-input-star {
  font-size: 28px;
  color: #ddd;
  cursor: pointer;
  transition: var(--transition-medium);
}

.rating-input-star:hover,
.rating-input-star.active {
  color: #ffc107;
  transform: scale(1.2);
}

.submit-comment-btn {
  background-image: var(--primary-gradient);
  color: white;
  border: none;
  border-radius: var(--border-radius-md);
  padding: 12px 25px;
  font-family: inherit;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s var(--easing-bounce);
  box-shadow: var(--shadow-primary);
  display: inline-flex;
  align-items: center;
}

.submit-comment-btn i, .submit-comment-btn svg {
  margin-left: 8px;
  font-size: 16px;
}

.submit-comment-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(33, 150, 243, 0.3);
}

/* ================= نوتیفیکیشن‌ها ================= */
.toast-container {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 100%;
  max-width: 350px;
  pointer-events: none;
}

.toast {
  padding: 15px 20px;
  border-radius: var(--border-radius-md);
  color: white;
  font-size: 14px;
  font-weight: 500;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
  opacity: 0;
  transform: translateY(100px) scale(0.9);
  transition: transform 0.5s var(--easing-bounce), opacity 0.5s;
  display: flex;
  align-items: center;
  position: relative;
  overflow: hidden;
  pointer-events: auto;
}

.toast::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 5px;
  border-radius: 0;
}

.toast::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0));
  pointer-events: none;
}

.toast.show {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.toast i, .toast svg {
  margin-left: 12px;
  font-size: 20px;
}

.toast-success {
  background: linear-gradient(135deg, #4caf50, #43a047);
}

.toast-success::before {
  background-color: #388e3c;
}

.toast-error {
  background: linear-gradient(135deg, #f44336, #e53935);
}

.toast-error::before {
  background-color: #d32f2f;
}

    </style>
</head>
<body>
    <!-- نوار ناوبری -->
    <header class="navbar">
        <div class="container navbar-content">
            <a href="index.html" class="navbar-logo">اسپرت<span>شاپ</span></a>
            
            <div class="navbar-actions">
                <button class="navbar-action">
                    <i class="fas fa-search"></i>
                </button>
                <button class="navbar-action">
                    <i class="far fa-heart"></i>
                </button>
                <button class="navbar-action" id="cartToggle">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="navbar-badge" id="navbarCartCount">0</span>
                </button>
                <button class="navbar-action">
                    <i class="far fa-user"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- محتوای اصلی -->
    <main class="container">
        <!-- بردکرامب -->
        <nav class="product-breadcrumb">
            <div class="breadcrumb-item">
                <a href="index.html">خانه</a>
            </div>
            <i class="fas fa-chevron-left breadcrumb-divider"></i>
            <div class="breadcrumb-item">
                <a href="products.html">محصولات</a>
            </div>
            <i class="fas fa-chevron-left breadcrumb-divider"></i>
            <div class="breadcrumb-item">
                <a href="category.html">کفش ورزشی</a>
            </div>
            <i class="fas fa-chevron-left breadcrumb-divider"></i>
            <div class="breadcrumb-item">کفش ادیداس اولترا بوست</div>
        </nav>

        <!-- صفحه محصول -->
        <div class="product-wrapper">
            <!-- گالری محصول -->
            <div class="product-gallery">
                <div class="gallery-main">
                    <div class="product-badges">
                        <div class="product-badge badge-discount">۱۸٪ تخفیف</div>
                        <div class="product-badge badge-popular">پرفروش</div>
                    </div>
                    <div class="gallery-actions">
                        <button class="gallery-action-btn" id="zoomButton">
                            <i class="fas fa-search-plus"></i>
                        </button>
                        <button class="gallery-action-btn" id="shareButton">
                            <i class="fas fa-share-alt"></i>
                        </button>
                    </div>
                    <img src="adidas1.jpg" alt="کفش ادیداس اولترا بوست" class="gallery-main-image" id="mainProductImage">
                </div>
                
                <div class="gallery-thumbnails">
                    <div class="gallery-thumbnail active" data-image="adidas1.jpg">
                        <img src="adidas1.jpg" alt="نمای جلو کفش ادیداس" class="gallery-thumbnail-image">
                    </div>
                    <div class="gallery-thumbnail" data-image="adidas2.jpg">
                        <img src="adidas2.jpg" alt="نمای پشت کفش ادیداس" class="gallery-thumbnail-image">
                    </div>
                    <div class="gallery-thumbnail" data-image="adidas3.jpg">
                        <img src="adidas3.jpg" alt="نمای کنار کفش ادیداس" class="gallery-thumbnail-image">
                    </div>
                    <div class="gallery-thumbnail" data-image="adidas4.jpg">
                        <img src="adidas4.jpg" alt="نمای بالا کفش ادیداس" class="gallery-thumbnail-image">
                    </div>
                </div>
            </div>

            <!-- اطلاعات محصول -->
            <div class="product-info">
                <div class="product-info-card">
                    <div class="product-header">
                        <div class="product-brand">
                            <img src="adidas-logo.png" alt="Adidas">
                            ادیداس اوریجینال
                        </div>
                        <h1 class="product-title">کفش ادیداس اولترا بوست</h1>
                        <p class="product-subtitle">طراحی حرفه‌ای برای دوندگان با بالاترین سطح کارایی و راحتی</p>
                        
                        <div class="product-rating">
                            <div class="rating-stars">
                                <i class="fas fa-star rating-star"></i>
                                <i class="fas fa-star rating-star"></i>
                                <i class="fas fa-star rating-star"></i>
                                <i class="fas fa-star rating-star"></i>
                                <i class="fas fa-star-half-alt rating-star"></i>
                            </div>
                            <div class="rating-text">
                                <span class="rating-count">۲۴</span>
                                دیدگاه کاربران
                            </div>
                        </div>

                        <div class="product-pricing">
                            <span class="product-price">۲,۴۵۰,۰۰۰ تومان</span>
                            <span class="product-old-price">۳,۰۰۰,۰۰۰ تومان</span>
                            <div class="product-discount-percent">
                                <i class="fas fa-tag"></i>
                                ۱۸٪
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-description">
                        کفش ادیداس اولترا بوست با بهره‌گیری از فناوری Boost، انرژی بیشتری به گام‌های شما برمی‌گرداند و خستگی کمتری را تجربه خواهید کرد. رویه PrimeKnit سازگار با فرم پا و کفی نرم برای حمایت ایده‌آل از قوس پا، تجربه‌ای بی‌نظیر را برای شما به ارمغان می‌آورد.
                    </div>

                    <div class="product-options">
                        <div class="option-group">
                            <div class="option-header">
                                <label class="option-label">انتخاب سایز</label>
                                <span class="option-selected" id="selectedSizeDisplay">انتخاب نشده</span>
                            </div>
                            <div class="size-grid">
                                <button class="size-option" data-size="39">39</button>
                                <button class="size-option" data-size="40">40</button>
                                <button class="size-option" data-size="41">41</button>
                                <button class="size-option" data-size="42">42</button>
                                <button class="size-option unavailable" data-size="43">43</button>
                                <button class="size-option" data-size="44">44</button>
                                <button class="size-option" data-size="45">45</button>
                            </div>
                        </div>

                        <div class="option-group">
                            <div class="option-header">
                                <label class="option-label">تعداد</label>
                                <span class="option-selected" id="selectedQuantityDisplay">۱ عدد</span>
                            </div>
                            <div class="quantity-control">
                                <div class="quantity-stepper">
                                    <button class="quantity-btn" id="decreaseQuantity" disabled>
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <span class="quantity-display" id="quantityDisplay">1</span>
                                    <button class="quantity-btn" id="increaseQuantity">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-features">
                        <div class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="feature-text">گارانتی اصالت و سلامت فیزیکی کالا</div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-truck"></i>
                            </div>
                            <div class="feature-text">ارسال رایگان برای خرید بالای ۵۰۰ هزار تومان</div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-undo-alt"></i>
                            </div>
                            <div class="feature-text">۷ روز ضمانت بازگشت کالا</div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-headset"></i>
                            </div>
                            <div class="feature-text">پشتیبانی ۲۴ ساعته، ۷ روز هفته</div>
                        </div>
                    </div>

                    <div class="product-actions">
                        <button class="btn btn-primary" id="addToCartBtn">
                            <i class="fas fa-cart-plus"></i>
                            افزودن به سبد خرید
                        </button>
                        <button class="btn btn-secondary btn-icon" id="addToWishlistBtn">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>

                    <div class="social-section">
                        <h3 class="social-title">سفارش از طریق پیام‌رسان‌ها</h3>
                        <div class="social-grid">
                            <a href="https://t.me/MMDW_2" class="social-link social-telegram">
                                <i class="fab fa-telegram"></i>
                                <span>تلگرام</span>
                            </a>
                            <a href="https://wa.me/+9809900859556" class="social-link social-whatsapp">
                                <i class="fab fa-whatsapp"></i>
                                <span>واتس‌اپ</span>
                            </a>
                            <a href="#" class="social-link social-instagram">
                                <i class="fab fa-instagram"></i>
                                <span>اینستاگرام</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- تب‌های محصول -->
        <div class="product-tabs">
            <div class="tabs-container">
                <div class="tabs-header">
                    <button class="tab-button active" data-tab="description">توضیحات محصول</button>
                    <button class="tab-button" data-tab="specifications">مشخصات فنی</button>
                    <button class="tab-button" data-tab="size-guide">راهنمای سایز</button>
                    <button class="tab-button" data-tab="comments">دیدگاه کاربران</button>
                    <button class="tab-button" data-tab="shipping">شرایط ارسال</button>
                </div>
                
                <div id="descriptionTab" class="tab-content active">
                    <h3>معرفی محصول</h3>
                    <p>کفش‌های ادیداس اولترا بوست، محصولی انقلابی در دنیای کفش‌های ورزشی است که با بهره‌گیری از جدیدترین تکنولوژی‌ها، تجربه‌ای بی‌نظیر را برای کاربران به ارمغان می‌آورد. این کفش‌ها با داشتن میانه Boost، انرژی را طی هر گام به پای شما بازمی‌گرداند و ساختار PrimeKnit آن، با الهام از فناوری بافندگی دیجیتال، رویه‌ای منعطف و سازگار با فرم پا ایجاد می‌کند.</p>
                    
                    <p>در طراحی کفش‌های اولترا بوست، به جزئیات ظریفی توجه شده است. زیره خارجی Continental لاستیکی، چسبندگی فوق‌العاده‌ای را در تمامی سطوح فراهم می‌کند و سیستم Torsion، پایداری میانی پا را تضمین می‌نماید. همچنین، فناوری PrimeBlue در مدل‌های جدید این کفش به کار رفته که از پلاستیک‌های بازیافتی اقیانوس‌ها ساخته شده و گامی در جهت حفظ محیط زیست است.</p>
                    
                    <p>این کفش‌ها نه تنها برای دویدن، بلکه برای زندگی روزمره نیز مناسب هستند و ترکیبی از راحتی، عملکرد و طراحی زیبا را ارائه می‌دهند. پس اگر به دنبال کفشی هستید که در عین حفظ زیبایی، عملکرد بالایی داشته باشد، اولترا بوست گزینه‌ای مناسب برای شماست.</p>
                </div>
                <div id="specificationsTab" class="tab-content">
                    <h3>مشخصات فنی</h3>
                    <table class="spec-table">
                        <tr class="spec-row">
                            <td class="spec-name">برند</td>
                            <td class="spec-value">ادیداس (Adidas)</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">مدل</td>
                            <td class="spec-value">اولترا بوست (Ultra Boost)</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">جنس رویه</td>
                            <td class="spec-value">PrimeKnit (بافته شده)</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">جنس زیره</td>
                            <td class="spec-value">لاستیک Continental با تکنولوژی Boost</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">مناسب برای</td>
                            <td class="spec-value">پیاده‌روی، دویدن، ورزش روزانه، استفاده روزمره</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">سایزبندی</td>
                            <td class="spec-value">39 تا 45 (اروپایی)</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">وزن تقریبی</td>
                            <td class="spec-value">310 گرم</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">فناوری‌های ویژه</td>
                            <td class="spec-value">Boost، PrimeKnit، Torsion System، Continental Rubber</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">کد محصول</td>
                            <td class="spec-value">UB-2023-4521</td>
                        </tr>
                    </table>
                </div>
                
                <div id="size-guideTab" class="tab-content">
                    <h3>راهنمای سایز</h3>
                    <p>برای انتخاب سایز مناسب کفش ادیداس اولترا بوست، می‌توانید از جدول زیر استفاده کنید:</p>
                    <table class="spec-table">
                        <tr class="spec-row">
                            <td class="spec-name">سایز اروپایی</td>
                            <td class="spec-value">طول پا (سانتی‌متر)</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">39</td>
                            <td class="spec-value">24.5 - 25</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">40</td>
                            <td class="spec-value">25 - 25.5</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">41</td>
                            <td class="spec-value">25.5 - 26</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">42</td>
                            <td class="spec-value">26 - 26.5</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">43</td>
                            <td class="spec-value">26.5 - 27</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">44</td>
                            <td class="spec-value">27 - 27.5</td>
                        </tr>
                        <tr class="spec-row">
                            <td class="spec-name">45</td>
                            <td class="spec-value">27.5 - 28</td>
                        </tr>
                    </table>
                    <p>توصیه: این مدل به اندازه استاندارد است. سایز معمول خود را انتخاب کنید.</p>
                </div>
                
                <div id="commentsTab" class="tab-content">
                    <h3>دیدگاه کاربران</h3>
                    <p>در حال بارگذاری دیدگاه‌ها...</p>
                </div>
                
                <div id="shippingTab" class="tab-content">
                    <h3>شرایط ارسال</h3>
                    <ul class="feature-item">
                        <li class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-truck"></i>
                            </div>
                            <div class="feature-text">ارسال رایگان برای سفارش‌های بالای 500 هزار تومان</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="feature-text">ارسال معمولی با پست پیشتاز (2 تا 4 روز کاری)</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-shipping-fast"></i>
                            </div>
                            <div class="feature-text">ارسال سریع با پیک در تهران (همان روز)</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-icon">
                                <i class="fas fa-store"></i>
                            </div>
                            <div class="feature-text">امکان دریافت در فروشگاه</div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- محصولات مشابه -->
        <section class="similar-products">
            <div class="section-header">
                <h2 class="section-title">محصولات مشابه</h2>
            </div>
            
            <div class="products-scroll">
                <div class="product-card">
                    <div class="product-card-image">
                        <span class="product-card-badge">جدید</span>
                        <img src="بروکس5.jpg" alt="کفش ورزشی بروکس" class="product-card-img">
                    </div>
                    <div class="product-card-body">
                        <a href="بروکس.html" class="product-card-title">کفش ورزشی نایک مدل ایر زوم</a>
                        <div class="product-card-prices">
                            <span class="product-card-price">۲,۲۵۰,۰۰۰ تومان</span>
                            <span class="product-card-old-price">۲,۸۰۰,۰۰۰ تومان</span>
                        </div>
                        <div class="product-card-actions">
                            <button class="btn btn-primary card-btn">افزودن به سبد</button>
                            <button class="btn btn-secondary btn-icon card-btn">
                                <i class="far fa-eye"></i>
                            </button>
                            <button class="btn btn-secondary btn-icon card-btn btn-share">
                                <i class="fas fa-share-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="product-card">
                    <div class="product-card-image">
                        <span class="product-card-badge">پرفروش</span>
                        <img src="ادیداس1.jpg" alt="کفش ورزشی ادیداس " class="product-card-img">
                    </div>
                    <div class="product-card-body">
                        <a href="ادیداس.html" class="product-card-title">کفش ورزشی آدیداس سالنی</a>
                        <div class="product-card-prices">
                            <span class="product-card-price">۱,۹۵۰,۰۰۰ تومان</span>
                            <span class="product-card-old-price">۲,۴۰۰,۰۰۰ تومان</span>
                        </div>
                        <div class="product-card-actions">
                            <button class="btn btn-primary card-btn">افزودن به سبد</button>
                            <button class="btn btn-secondary btn-icon card-btn">
                                <i class="far fa-eye"></i>
                            </button>
                            <button class="btn btn-secondary btn-icon card-btn btn-share">
                                <i class="fas fa-share-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="product-card">
                    <div class="product-card-image">
                        <img src="اسیکس2.jpg" alt="کفش ادیداس مدل NMD" class="product-card-img">
                    </div>
                    <div class="product-card-body">
                        <a href="اسیکس2.html" class="product-card-title">کفش اسیکس</a>
                        <div class="product-card-prices">
                            <span class="product-card-price">۲,۱۵۰,۰۰۰ تومان</span>
                        </div>
                        <div class="product-card-actions">
                            <button class="btn btn-primary card-btn">افزودن به سبد</button>
                            <button class="btn btn-secondary btn-icon card-btn">
                                <i class="far fa-eye"></i>
                            </button>
                            <button class="btn btn-secondary btn-icon card-btn btn-share">
                                <i class="fas fa-share-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="product-card">
                    <div class="product-card-image">
                        <span class="product-card-badge">تخفیف</span>
                        <img src="reebok-nano.jpg" alt="کفش ریبوک مدل نانو" class="product-card-img">
                    </div>
                    <div class="product-card-body">
                        <a href="#" class="product-card-title">کفش ریبوک مدل نانو</a>
                        <div class="product-card-prices">
                            <span class="product-card-price">۱,۸۵۰,۰۰۰ تومان</span>
                            <span class="product-card-old-price">۲,۱۰۰,۰۰۰ تومان</span>
                        </div>
                        <div class="product-card-actions">
                            <button class="btn btn-primary card-btn">افزودن به سبد</button>
                            <button class="btn btn-secondary btn-icon card-btn">
                                <i class="far fa-eye"></i>
                            </button>
                            <button class="btn btn-secondary btn-icon card-btn btn-share">
                                <i class="fas fa-share-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="product-card">
                    <div class="product-card-image">
                        <img src="asics-gel.jpg" alt="کفش اسیکس مدل ژل" class="product-card-img">
                    </div>
                    <div class="product-card-body">
                        <a href="#" class="product-card-title">کفش اسیکس مدل ژل</a>
                        <div class="product-card-prices">
                            <span class="product-card-price">۲,۰۵۰,۰۰۰ تومان</span>
                        </div>
                        <div class="product-card-actions">
                            <button class="btn btn-primary card-btn">افزودن به سبد</button>
                            <button class="btn btn-secondary btn-icon card-btn">
                                <i class="far fa-eye"></i>
                            </button>
                            <button class="btn btn-secondary btn-icon card-btn btn-share">
                                <i class="fas fa-share-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- سبد خرید شناور -->
    <div class="fab-cart" id="fabCart">
        <button class="fab-button" id="fabCartButton">
            <i class="fas fa-shopping-cart"></i>
            <span class="fab-badge" id="fabCartCount">0</span>
        </button>
    </div>

    <!-- مدال سبد خرید -->
    <div class="cart-backdrop" id="cartBackdrop"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <div class="cart-title">
                <i class="fas fa-shopping-cart"></i>
                سبد خرید
                <span class="cart-counter" id="cartCounter">0</span>
            </div>
            <button class="cart-close-btn" id="closeCart">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="cart-body" id="cartBody">
            <!-- محتوای سبد خرید به طور پویا بارگذاری می‌شود -->
        </div>
        <div class="cart-footer">
            <div id="discountContainer">
                <div class="discount-form">
                    <input type="text" class="discount-input" id="discountInput" placeholder="کد تخفیف دارید؟">
                    <button class="discount-apply" id="applyDiscount">اعمال</button>
                </div>
            </div>
            <div class="cart-summary">
                <div class="summary-row">
                    <span class="summary-title">مجموع:</span>
                    <span class="summary-value" id="cartSubtotal">۰ تومان</span>
                </div>
                <div class="summary-row">
                    <span class="summary-title">تخفیف محصولات:</span>
                    <span class="summary-value" id="cartProductsDiscount">۰ تومان</span>
                </div>
                <div class="summary-row">
                    <span class="summary-title">تخفیف کد:</span>
                    <span class="summary-value" id="cartCodeDiscount">۰ تومان</span>
                </div>
                <div class="summary-row">
                    <span class="summary-title">هزینه ارسال:</span>
                    <span class="summary-value" id="cartShipping">رایگان</span>
                </div>
                <div class="summary-row summary-total">
                    <span class="summary-title">مبلغ قابل پرداخت:</span>
                    <span class="summary-value" id="cartTotal">۰ تومان</span>
                </div>
            </div>
            
            <a href="checkout.html" class="checkout-btn" id="checkoutButton">
                ادامه فرایند خرید
                <i class="fas fa-arrow-left"></i>
            </a>
        </div>
    </div>

    <!-- مدال بزرگنمایی تصویر -->
    <div class="zoom-backdrop" id="zoomBackdrop">
        <div class="zoom-content">
            <button class="zoom-close" id="closeZoom">
                <i class="fas fa-times"></i>
            </button>
            <img src="" alt="تصویر بزرگنمایی شده کفش ادیداس" class="zoom-img" id="zoomImage">
            <div class="zoom-thumbnails">
                <div class="zoom-thumbnail active" data-image="adidas1.jpg">
                    <img src="adidas1.jpg" alt="" class="zoom-thumbnail-img">
                </div>
                <div class="zoom-thumbnail" data-image="adidas2.jpg">
                    <img src="adidas2.jpg" alt="" class="zoom-thumbnail-img">
                </div>
                <div class="zoom-thumbnail" data-image="adidas3.jpg">
                    <img src="adidas3.jpg" alt="" class="zoom-thumbnail-img">
                </div>
                <div class="zoom-thumbnail" data-image="adidas4.jpg">
                    <img src="adidas4.jpg" alt="" class="zoom-thumbnail-img">
                </div>
            </div>
        </div>
    </div>

    <!-- منوی اشتراک گذاری -->
    <div class="share-overlay" id="shareOverlay"></div>
    <div class="share-menu" id="shareMenu">
        <div class="share-header">
            <h3 class="share-title">اشتراک‌گذاری محصول</h3>
            <button class="share-close" id="closeShareMenu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="share-content">
            <div class="share-product-info">
                <img src="adidas1.jpg" alt="کفش ادیداس" class="share-product-image" id="shareProductImage">
                <div class="share-product-details">
                    <h4 class="share-product-title" id="shareProductTitle">کفش ادیداس اولترا بوست</h4>
                    <p class="share-product-price" id="shareProductPrice">۲,۴۵۰,۰۰۰ تومان</p>
                </div>
            </div>
            <div class="share-options">
                <a href="#" class="share-option" id="shareTelegram" data-platform="telegram">
                    <div class="share-option-icon share-telegram">
                        <i class="fab fa-telegram"></i>
                    </div>
                    <span class="share-option-name">تلگرام</span>
                </a>
                <a href="#" class="share-option" id="shareWhatsapp" data-platform="whatsapp">
                    <div class="share-option-icon share-whatsapp">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <span class="share-option-name">واتس‌اپ</span>
                </a>
                <a href="#" class="share-option" id="shareTwitter" data-platform="twitter">
                    <div class="share-option-icon share-twitter">
                        <i class="fab fa-twitter"></i>
                    </div>
                    <span class="share-option-name">توییتر</span>
                </a>
                <a href="#" class="share-option" id="shareFacebook" data-platform="facebook">
                    <div class="share-option-icon share-facebook">
                        <i class="fab fa-facebook"></i>
                    </div>
                    <span class="share-option-name">فیسبوک</span>
                </a>
                <a href="#" class="share-option" id="shareLinkedin" data-platform="linkedin">
                    <div class="share-option-icon share-linkedin">
                        <i class="fab fa-linkedin"></i>
                    </div>
                    <span class="share-option-name">لینکدین</span>
                </a>
            </div>
            <div class="share-link-container">
                <p class="share-link-label">لینک محصول</p>
                <div class="share-link-box">
                    <input type="text" id="shareLink" class="share-link-input" value="https://amiristor.shop/product/adidas-ultraboost" readonly>
                    <button class="share-link-copy" id="copyShareLink">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- نوتیفیکیشن ها -->
    <div class="toast-container" id="toastContainer"></div>
</body>

    <!-- اسکریپت‌ها -->
    <script>
        // محصول فعلی
        const product = {
            id: 1,
            name: 'کفش ادیداس اولترا بوست',
            price: 2450000,
            oldPrice: 3000000,
            discount: 18,
            image: 'adidas1.jpg',
            availableSizes: ['39', '40', '41', '42', '44', '45']
        };

        // متغیرهای حالت
        let cart = [];
        let selectedSize = null;
        let quantity = 1;
        let activeDiscountCode = null;

        // رویدادها به هنگام بارگذاری DOM
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        // مقداردهی اولیه برنامه
        function initializeApp() {
            loadCart();
            setupEventListeners();
            initializeTabs();
            updateCartUI();

            // نمایش دکمه سبد شناور با اسکرول
            window.addEventListener('scroll', checkScrollPosition);
            checkScrollPosition();
        }

        // تنظیم رویدادهای صفحه
        function setupEventListeners() {
            // گالری تصاویر
            setupGallery();
            
            // انتخاب سایز
            setupSizeSelector();
            
            // کنترل تعداد
            setupQuantityControl();
            
            // افزودن به سبد
            document.getElementById('addToCartBtn').addEventListener('click', addToCart);
            
            // سبد خرید
            document.getElementById('cartToggle').addEventListener('click', toggleCart);
            document.getElementById('fabCartButton').addEventListener('click', toggleCart);
            document.getElementById('closeCart').addEventListener('click', toggleCart);
            document.getElementById('cartBackdrop').addEventListener('click', toggleCart);
            
            // زوم تصویر
            document.getElementById('zoomButton').addEventListener('click', function(e) {
                e.stopPropagation();
                openZoomModal();
            });
            document.getElementById('closeZoom').addEventListener('click', closeZoomModal);
            document.getElementById('zoomBackdrop').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeZoomModal();
                }
            });
            
            // تخفیف
            document.getElementById('applyDiscount').addEventListener('click', applyDiscount);
            document.getElementById('discountInput').addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    applyDiscount();
                }
            });
            
            // بستن مدال‌ها با Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    if (document.getElementById('zoomBackdrop').classList.contains('active')) {
                        closeZoomModal();
                    } else if (document.getElementById('cartBackdrop').classList.contains('active')) {
                        toggleCart();
                    }
                }
            });
        }

        // راه‌اندازی گالری تصاویر
        function setupGallery() {
            const thumbnails = document.querySelectorAll('.gallery-thumbnail');
            const mainImage = document.getElementById('mainProductImage');
            
            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', function() {
                    const imageSrc = this.getAttribute('data-image');
                    
                    // تغییر تصویر اصلی
                    mainImage.src = imageSrc;
                    
                    // بروزرسانی کلاس active
                    thumbnails.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // تنظیم تامبنیل‌های مدال زوم
            const zoomThumbnails = document.querySelectorAll('.zoom-thumbnail');
            const zoomImage = document.getElementById('zoomImage');
            
            zoomThumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', function() {
                    const imageSrc = this.getAttribute('data-image');
                    
                    // تغییر تصویر زوم
                    zoomImage.src = imageSrc;
                    
                    // بروزرسانی کلاس active
                    zoomThumbnails.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        // راه‌اندازی انتخاب سایز
        function setupSizeSelector() {
            const sizeOptions = document.querySelectorAll('.size-option:not(.unavailable)');
            
            sizeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // حذف کلاس selected از همه گزینه‌ها
                    sizeOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // افزودن کلاس selected به گزینه انتخاب شده
                    this.classList.add('selected');
                    
                    // ذخیره سایز انتخاب شده
                    selectedSize = this.getAttribute('data-size');
                    
                    // بروزرسانی نمایش
                    document.getElementById('selectedSizeDisplay').textContent = selectedSize;
                });
            });
        }

        // راه‌اندازی کنترل تعداد
        function setupQuantityControl() {
            const decreaseBtn = document.getElementById('decreaseQuantity');
            const increaseBtn = document.getElementById('increaseQuantity');
            const quantityDisplay = document.getElementById('quantityDisplay');
            const selectedQuantityDisplay = document.getElementById('selectedQuantityDisplay');
            
            decreaseBtn.addEventListener('click', function() {
                if (quantity > 1) {
                    quantity--;
                    updateQuantityUI();
                }
            });
            
            increaseBtn.addEventListener('click', function() {
                if (quantity < 10) {
                    quantity++;
                    updateQuantityUI();
                }
            });
            
            function updateQuantityUI() {
                quantityDisplay.textContent = quantity;
                selectedQuantityDisplay.textContent = `${persianDigits(quantity)} عدد`;
                
                // غیرفعال کردن دکمه کاهش اگر تعداد 1 است
                decreaseBtn.disabled = quantity <= 1;
                
                // غیرفعال کردن دکمه افزایش اگر تعداد 10 است
                increaseBtn.disabled = quantity >= 10;
            }
        }

        // راه‌اندازی سیستم تب‌ها
        function initializeTabs() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // غیرفعال کردن همه تب‌ها
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // فعال کردن تب انتخاب شده
                    this.classList.add('active');
                    document.getElementById(`${tabId}Tab`).classList.add('active');
                });
            });
        }

        // باز و بسته کردن سبد خرید
        function toggleCart() {
            const backdrop = document.getElementById('cartBackdrop');
            const sidebar = document.getElementById('cartSidebar');
            
            const isVisible = backdrop.classList.contains('active');
            
            if (isVisible) {
                backdrop.classList.remove('active');
                sidebar.classList.remove('active');
                document.body.style.overflow = '';
            } else {
                backdrop.classList.add('active');
                sidebar.classList.add('active');
                document.body.style.overflow = 'hidden';
                renderCartItems();
            }
        }

        // باز کردن مدال بزرگنمایی
        function openZoomModal() {
            const backdrop = document.getElementById('zoomBackdrop');
            const image = document.getElementById('zoomImage');
            const mainImage = document.getElementById('mainProductImage');
            
            // تنظیم تصویر زوم
            image.src = mainImage.src;
            
            // نمایش مدال
            backdrop.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // بروزرسانی تامبنیل فعال
            const activeThumbnail = document.querySelector(`.zoom-thumbnail[data-image="${mainImage.src.split('/').pop()}"]`);
            if (activeThumbnail) {
                document.querySelectorAll('.zoom-thumbnail').forEach(t => t.classList.remove('active'));
                activeThumbnail.classList.add('active');
            }
        }

        // بستن مدال بزرگنمایی
        function closeZoomModal() {
            const backdrop = document.getElementById('zoomBackdrop');
            backdrop.classList.remove('active');
            document.body.style.overflow = '';
    }

        // افزودن به سبد خرید
        function addToCart() {
        if (!selectedSize) {
                showToast('خطا', 'لطفاً یک سایز را انتخاب کنید', 'error');
            return;
        }

            // بررسی آیا محصول با این سایز در سبد خرید وجود دارد
            const existingItemIndex = cart.findIndex(item => 
                item.productId === product.id && item.size === selectedSize
        );

        if (existingItemIndex > -1) {
                // اگر وجود دارد، فقط تعداد را افزایش می‌دهیم
                cart[existingItemIndex].quantity += quantity;
        } else {
                // در غیر این صورت، محصول جدید اضافه می‌کنیم
            const newItem = {
                    id: Date.now(), // ایجاد یک ID یکتا
                    productId: product.id,
                    name: product.name,
                    price: product.price,
                    image: document.getElementById('mainProductImage').src,
                    size: selectedSize,
                quantity: quantity
            };
                
                cart.push(newItem);
            }
            
            // ذخیره تغییرات سبد خرید
            saveCart();
            
            // به‌روزرسانی UI
            updateCartUI();
            
            // انیمیشن اضافه شدن به سبد خرید
            animateAddToCart();
            
            // نمایش نوتیفیکیشن
            showToast('سبد خرید', 'محصول با موفقیت به سبد خرید اضافه شد', 'success');
        }

        // انیمیشن اضافه شدن به سبد خرید
        function animateAddToCart() {
            const productImage = document.getElementById('mainProductImage');
            const cartButton = document.getElementById('cartToggle');
            
            // موقعیت تصویر محصول و دکمه سبد خرید
            const imgRect = productImage.getBoundingClientRect();
            const cartRect = cartButton.getBoundingClientRect();
            
            // ایجاد یک المان تصویر موقت
            const tempImage = document.createElement('img');
            tempImage.src = productImage.src;
            tempImage.style.position = 'fixed';
            tempImage.style.width = '100px';
            tempImage.style.height = '100px';
            tempImage.style.objectFit = 'cover';
            tempImage.style.borderRadius = '50%';
            tempImage.style.zIndex = '9999';
            tempImage.style.opacity = '0.9';
            tempImage.style.pointerEvents = 'none';
            tempImage.style.transition = 'all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)';
            tempImage.style.top = `${imgRect.top + 50}px`;
            tempImage.style.left = `${imgRect.left + 50}px`;
            
            // اضافه کردن به DOM
            document.body.appendChild(tempImage);
            
            // اجرای انیمیشن بعد از یک تأخیر کوتاه
            setTimeout(() => {
                tempImage.style.top = `${cartRect.top + cartRect.height/2 - 10}px`;
                tempImage.style.left = `${cartRect.left + cartRect.width/2 - 10}px`;
                tempImage.style.width = '20px';
                tempImage.style.height = '20px';
                tempImage.style.opacity = '0';
                
                // نمایش افکت روی دکمه سبد خرید
                cartButton.classList.add('pulse');
                document.getElementById('navbarCartCount').style.transform = 'scale(1.5)';
                
                // حذف المان موقت و ریست افکت بعد از اتمام انیمیشن
                setTimeout(() => {
                    document.body.removeChild(tempImage);
                    cartButton.classList.remove('pulse');
                    document.getElementById('navbarCartCount').style.transform = '';
                }, 800);
            }, 50);
        }

        // بروزرسانی نمایش سبد خرید
        function updateCartUI() {
            // محاسبه تعداد کل آیتم‌ها
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            
            // بروزرسانی شمارنده‌ها
            document.getElementById('navbarCartCount').textContent = persianDigits(totalItems);
            document.getElementById('cartCounter').textContent = persianDigits(totalItems);
            document.getElementById('fabCartCount').textContent = persianDigits(totalItems);
            
            // بروزرسانی محتوای سبد
            renderCartItems();
            
            // بروزرسانی خلاصه سبد
            updateCartSummary();
        }

        // رندر آیتم‌های سبد خرید
        function renderCartItems() {
            const cartBody = document.getElementById('cartBody');
            
            if (!cartBody) return;
            
            if (cart.length === 0) {
                cartBody.innerHTML = `
                    <div class="cart-empty">
                        <i class="fas fa-shopping-cart cart-empty-icon"></i>
                        <div class="cart-empty-text">سبد خرید شما خالی است</div>
                        <div class="cart-empty-subtext">محصولات مورد نظر خود را به سبد خرید اضافه کنید</div>
                        <button class="btn btn-primary" onclick="toggleCart()">
                            ادامه خرید
                        </button>
                    </div>
                `;
            return;
        }

            const cartItemsHtml = cart.map(item => `
            <div class="cart-item" data-id="${item.id}">
                    <img src="${item.image}" alt="${item.name}" class="cart-item-img">
                    <div class="cart-item-content">
                        <div class="cart-item-info">
                            <h4 class="cart-item-title">${item.name}</h4>
                            <div class="cart-item-variant">سایز: ${item.size}</div>
                            <div class="cart-item-price">${formatPrice(item.price * item.quantity)}</div>
                        </div>
                        <div class="cart-item-controls">
                    <div class="cart-item-quantity">
                                <button class="cart-quantity-btn" onclick="updateCartItemQuantity('${item.id}', 'decrease')">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <span class="cart-quantity-num">${persianDigits(item.quantity)}</span>
                                <button class="cart-quantity-btn" onclick="updateCartItemQuantity('${item.id}', 'increase')">
                                    <i class="fas fa-plus"></i>
                                </button>
    </div>
                            <button class="cart-item-remove" onclick="removeFromCart('${item.id}')">
                                <i class="fas fa-trash-alt"></i>
                </button>
                        </div>
                    </div>
            </div>
        `).join('');
            
            cartBody.innerHTML = `<div class="cart-items">${cartItemsHtml}</div>`;
        }

        // بروزرسانی خلاصه سبد خرید
        function updateCartSummary() {
            // محاسبه مجموع
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // محاسبه تخفیف محصولات
            const productsDiscount = 0; // فرض می‌کنیم فعلاً تخفیفی نداریم
            
            // محاسبه تخفیف کد
            let codeDiscount = 0;
            if (activeDiscountCode) {
                codeDiscount = Math.round(subtotal * (activeDiscountCode.percent / 100));
            }
            
            // محاسبه جمع کل
            const total = subtotal - productsDiscount - codeDiscount;
            
            // بروزرسانی خلاصه سبد
            document.getElementById('cartSubtotal').textContent = formatPrice(subtotal);
            document.getElementById('cartProductsDiscount').textContent = formatPrice(productsDiscount);
            document.getElementById('cartCodeDiscount').textContent = formatPrice(codeDiscount);
            document.getElementById('cartTotal').textContent = formatPrice(total);
            
            // فعال/غیرفعال کردن دکمه ادامه خرید
            const checkoutButton = document.getElementById('checkoutButton');
            if (cart.length === 0) {
                checkoutButton.classList.add('disabled');
                checkoutButton.setAttribute('disabled', 'disabled');
            } else {
                checkoutButton.classList.remove('disabled');
                checkoutButton.removeAttribute('disabled');
            }
        }

        // بروزرسانی تعداد آیتم در سبد خرید
        function updateCartItemQuantity(itemId, action) {
            const itemIndex = cart.findIndex(item => item.id == itemId);
            
        if (itemIndex === -1) return;

        if (action === 'increase') {
                if (cart[itemIndex].quantity < 10) {
                    cart[itemIndex].quantity++;
                }
        } else if (action === 'decrease') {
                if (cart[itemIndex].quantity > 1) {
                    cart[itemIndex].quantity--;
            } else {
                    removeFromCart(itemId);
                return;
            }
        }

            saveCart();
            updateCartUI();
        }

        // حذف آیتم از سبد خرید
        function removeFromCart(itemId) {
            cart = cart.filter(item => item.id != itemId);
            saveCart();
            updateCartUI();
            showToast('سبد خرید', 'محصول از سبد خرید حذف شد', 'success');
        }

        // اعمال کد تخفیف
        function applyDiscount() {
            const discountInput = document.getElementById('discountInput');
            const code = discountInput.value.trim().toUpperCase();
            
            if (!code) {
                showToast('کد تخفیف', 'لطفاً کد تخفیف را وارد کنید', 'error');
                return;
            }
            
            // بررسی اعتبار کد تخفیف - در یک سیستم واقعی از API استفاده می‌شود
            if (code === 'SUMMER1402') {
                activeDiscountCode = {
                    code: code,
                    percent: 20
                };
                
                // بروزرسانی نمایش کد تخفیف
                document.getElementById('discountContainer').innerHTML = `
                    <div class="discount-chip">
                        <div class="discount-info">
                            <div class="discount-code">${code}</div>
                            <div class="discount-percent">٪۲۰ تخفیف روی سبد خرید</div>
                        </div>
                        <button class="discount-remove" onclick="removeDiscount()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                
                // بروزرسانی خلاصه سبد
                updateCartSummary();
                
                showToast('کد تخفیف', 'کد تخفیف با موفقیت اعمال شد', 'success');
            } else {
                showToast('کد تخفیف', 'کد تخفیف نامعتبر است', 'error');
            }
        }

        // حذف کد تخفیف
        function removeDiscount() {
            activeDiscountCode = null;
            
            // بازگشت به فرم ورود کد تخفیف
            document.getElementById('discountContainer').innerHTML = `
                <div class="discount-form">
                    <input type="text" class="discount-input" id="discountInput" placeholder="کد تخفیف دارید؟">
                    <button class="discount-apply" id="applyDiscount" onclick="applyDiscount()">اعمال</button>
                </div>
            `;
            
            // افزودن رویداد Enter برای دکمه اعمال
            document.getElementById('discountInput').addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    applyDiscount();
                }
            });
            
            // بروزرسانی خلاصه سبد
            updateCartSummary();
            
            showToast('کد تخفیف', 'کد تخفیف حذف شد', 'success');
        }

        // بررسی موقعیت اسکرول برای نمایش/مخفی کردن دکمه سبد شناور
        function checkScrollPosition() {
            const fabCart = document.getElementById('fabCart');
            
            if (window.scrollY > 300) {
                fabCart.classList.add('visible');
            } else {
                fabCart.classList.remove('visible');
            }
        }

        // نمایش نوتیفیکیشن
        function showToast(title, message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toastId = 'toast-' + Date.now();
            
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.id = toastId;
            
            toast.innerHTML = `
                <div class="toast-indicator"></div>
                <div class="toast-content">
                    <div class="toast-icon">
                        <i class="fas ${type === 'success' ? 'fa-check' : type === 'error' ? 'fa-exclamation' : 'fa-info'}"></i>
                    </div>
                    <div class="toast-text">
                        <div class="toast-title">${title}</div>
                        <div class="toast-message">${message}</div>
                    </div>
                    <button class="toast-close" onclick="closeToast('${toastId}')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            container.appendChild(toast);
            
            // نمایش با تأخیر برای اجرای انیمیشن
        setTimeout(() => {
                toast.classList.add('active');
            }, 10);
            
            // حذف خودکار بعد از چند ثانیه
            setTimeout(() => {
                closeToast(toastId);
            }, 5000);
        }

        // بستن نوتیفیکیشن
        function closeToast(toastId) {
            const toast = document.getElementById(toastId);
            if (!toast) return;
            
            toast.classList.remove('active');
            
            setTimeout(() => {
                toast.remove();
            }, 300); // مدت زمان انیمیشن
        }

        // بارگذاری سبد خرید از localStorage
        function loadCart() {
            const cartData = localStorage.getItem('cart');
            if (cartData) {
                try {
                    cart = JSON.parse(cartData);
                } catch (e) {
                    cart = [];
                    console.error('خطا در بازیابی اطلاعات سبد خرید:', e);
                }
            }
        }

        // ذخیره سبد خرید در localStorage
        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // تبدیل اعداد به فارسی
        function persianDigits(n) {
            const farsiDigits = ['۰', '۱', '۲', '۳', '۴', '۵', '۶', '۷', '۸', '۹'];
            return n.toString().replace(/\d/g, x => farsiDigits[x]);
        }

        // فرمت قیمت با جداکننده هزارگان
        function formatPrice(price) {
            return persianDigits(price.toLocaleString('fa-IR')) + ' تومان';
        }
        // مدیریت اشتراک گذاری
function setupShareFunctionality() {
    // دکمه‌های اشتراک گذاری
    const shareButtons = document.querySelectorAll('#shareButton, #shareProductBtn');
    const shareOverlay = document.getElementById('shareOverlay');
    const shareMenu = document.getElementById('shareMenu');
    const closeShareBtn = document.getElementById('closeShareMenu');
    const copyLinkBtn = document.getElementById('copyShareLink');
    const shareLink = document.getElementById('shareLink');
    const shareOptions = document.querySelectorAll('.share-option');
    
    // تنظیم تصویر محصول در منوی اشتراک گذاری
    const updateShareImage = () => {
        const mainImage = document.getElementById('mainProductImage');
        const shareImage = document.getElementById('shareProductImage');
        if (mainImage && shareImage) {
            shareImage.src = mainImage.src;
        }
    };
    
    // باز کردن منوی اشتراک گذاری
    const openShareMenu = () => {
        updateShareImage();
        shareOverlay.classList.add('active');
        shareMenu.classList.add('active');
        document.body.style.overflow = 'hidden';
    };
    
    // بستن منوی اشتراک گذاری
    const closeShareMenu = () => {
        shareOverlay.classList.remove('active');
        shareMenu.classList.remove('active');
        document.body.style.overflow = '';
    };
    
    // کپی کردن لینک محصول
    const copyShareLink = () => {
        shareLink.select();
        document.execCommand('copy');
        
        // نمایش افکت کپی شدن
        copyLinkBtn.classList.add('copied');
        copyLinkBtn.innerHTML = '<i class="fas fa-check"></i>';
        
        // برگشت به حالت اولیه بعد از 2 ثانیه
        setTimeout(() => {
            copyLinkBtn.classList.remove('copied');
            copyLinkBtn.innerHTML = '<i class="fas fa-copy"></i>';
        }, 2000);
        
        // نمایش نوتیفیکیشن
        showToast('کپی لینک', 'لینک محصول با موفقیت کپی شد', 'success');
    };
    
    // اشتراک گذاری در پلتفرم‌های مختلف
    const shareOnPlatform = (platform, url) => {
        // آدرس صفحه محصول
        const productUrl = shareLink.value;
        // عنوان محصول
        const productTitle = 'کفش ادیداس اولترا بوست';
        // توضیحات محصول
        const productDescription = 'کفش ادیداس اولترا بوست با طراحی منحصر به فرد و کیفیت استثنایی';
        
        // ساخت URL اشتراک گذاری بر اساس پلتفرم
        let shareUrl = '';
        
        switch(platform) {
            case 'telegram':
                shareUrl = `https://t.me/share/url?url=${encodeURIComponent(productUrl)}&text=${encodeURIComponent(productTitle)}`;
                break;
            case 'whatsapp':
                shareUrl = `https://wa.me/?text=${encodeURIComponent(productTitle + ' - ' + productUrl)}`;
                break;
            case 'twitter':
                shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(productTitle)}&url=${encodeURIComponent(productUrl)}`;
                break;
            case 'facebook':
                shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(productUrl)}`;
                break;
            case 'linkedin':
                shareUrl = `https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(productUrl)}&title=${encodeURIComponent(productTitle)}&summary=${encodeURIComponent(productDescription)}`;
                break;
            default:
                shareUrl = productUrl;
        }
        
        // باز کردن پنجره جدید برای اشتراک گذاری
        if (shareUrl) {
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }
        
        // نمایش نوتیفیکیشن
        showToast('اشتراک گذاری', `محصول در ${platform} به اشتراک گذاشته شد`, 'success');
        
        // بستن منوی اشتراک گذاری
        closeShareMenu();
    };
    
    // اضافه کردن رویدادها
    shareButtons.forEach(button => {
        button.addEventListener('click', (e) => {
            e.preventDefault();
            openShareMenu();
        });
    });
    
    closeShareBtn.addEventListener('click', closeShareMenu);
    shareOverlay.addEventListener('click', closeShareMenu);
    
    copyLinkBtn.addEventListener('click', copyShareLink);
    
    // شیرینگ با Web Share API برای دستگاه های موبایل (اگر پشتیبانی شود)
    const useNativeShare = () => {
        if (navigator.share) {
            const productUrl = shareLink.value;
            const productTitle = 'کفش ادیداس اولترا بوست';
            const productDescription = 'کفش ادیداس اولترا بوست با طراحی منحصر به فرد و کیفیت استثنایی';
            
            return navigator.share({
                title: productTitle,
                text: productDescription,
                url: productUrl
            }).then(() => {
                console.log('محصول با موفقیت به اشتراک گذاشته شد');
                return true;
            }).catch(error => {
                console.error('خطا در اشتراک گذاری:', error);
                return false;
            });
        }
        return Promise.resolve(false);
    };
    
    // تنظیم رویدادهای دکمه‌های اشتراک گذاری
    shareOptions.forEach(option => {
        option.addEventListener('click', async (e) => {
            e.preventDefault();
            
            // نمایش افکت انیمیشن 
            const icon = option.querySelector('.share-option-icon');
            icon.classList.add('share-button-pulse');
            setTimeout(() => {
                icon.classList.remove('share-button-pulse');
            }, 400);
            
            const platform = option.getAttribute('data-platform');
            
            // برای موبایل، اول Web Share API را امتحان کنیم
            if (window.innerWidth <= 768) {
                const shared = await useNativeShare();
                if (shared) return;
            }
            
            // اگر Web Share API پشتیبانی نشد یا کاربر کنسل کرد، از روش معمولی استفاده کنیم
            shareOnPlatform(platform);
        });
    });
    
    // بستن با Escape
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && shareMenu.classList.contains('active')) {
            closeShareMenu();
        }
    });
}

// افزودن فراخوانی تابع راه‌اندازی اشتراک گذاری به تابع initializeApp
function initializeApp() {
    loadCart();
    setupEventListeners();
    initializeTabs();
    setupShareFunctionality(); // اضافه شده
    updateCartUI();

    // نمایش دکمه سبد شناور با اسکرول
    window.addEventListener('scroll', checkScrollPosition);
    checkScrollPosition();
}
// اضافه کردن این کد به بخش JavaScript
document.addEventListener('DOMContentLoaded', function() {
    // فیکس مشکل مدال‌ها
    setupModals();
    
    // فیکس مشکل دکمه‌ها
    setupButtons();
    
    // فیکس مشکل اسکرول
    setupScroll();
    
    // فعال‌سازی نمایش تب‌ها
    setupTabs();
    
    // فعال‌سازی گالری
    setupGallery();
    
    /**
     * مدیریت مدال‌ها (اشتراک‌گذاری، سبد خرید، زوم)
     */
    function setupModals() {
        // متغیرهای مورد نیاز
        const body = document.body;
        let scrollY = 0;
        
        // باز کردن مدال
        function openModal() {
            scrollY = window.scrollY;
            body.style.top = `-${scrollY}px`;
            body.classList.add('modal-open');
        }

// بستن مدال
        function closeModal() {
            body.classList.remove('modal-open');
            body.style.top = '';
            window.scrollTo(0, scrollY);
        }
        
        // مدال اشتراک‌گذاری
        setupModalBehavior(
            document.querySelectorAll('[data-share]'), 
            document.querySelector('.share-overlay'),
            document.querySelector('.share-menu'),
            document.querySelector('.share-close')
        );
        
        // مدال سبد خرید
        setupModalBehavior(
            document.querySelectorAll('[data-cart-open]'),
            document.querySelector('.cart-backdrop'),
            document.querySelector('.cart-sidebar'),
            document.querySelector('.cart-close-btn')
        );
        
        // مدال زوم
        setupModalBehavior(
            document.querySelectorAll('.gallery-main'),
            document.querySelector('.zoom-backdrop'),
            document.querySelector('.zoom-content'),
            document.querySelector('.zoom-close')
        );
        
        // تنظیم رفتار مدال
        function setupModalBehavior(triggers, overlay, content, closeBtn) {
            if (!triggers || !triggers.length || !overlay || !content || !closeBtn) return;
            
            // باز کردن مدال
            triggers.forEach(trigger => {
                trigger.addEventListener('click', function(e) {
                    e.preventDefault();
                    openModal();
                    overlay.classList.add('active');
                    content.classList.add('active');
                    
                    // برای زوم تصویر
                    if (trigger.classList.contains('gallery-main')) {
                        const mainImage = document.querySelector('.gallery-main-image');
                        const zoomImage = document.querySelector('.zoom-img');
                        if (mainImage && zoomImage) {
                            zoomImage.src = mainImage.src;
                        }
                    }
                });
            });
            
            // بستن مدال با دکمه
            closeBtn.addEventListener('click', function() {
                overlay.classList.remove('active');
                content.classList.remove('active');
                closeModal();
            });
            
            // بستن مدال با کلیک روی اورلی
            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                    overlay.classList.remove('active');
                    content.classList.remove('active');
                    closeModal();
                }
            });
        }
        
        // بستن همه مدال‌ها با کلید ESC
document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.querySelectorAll('.active').forEach(modal => {
                    if (modal.classList.contains('share-overlay') || 
                        modal.classList.contains('cart-backdrop') || 
                        modal.classList.contains('zoom-backdrop') ||
                        modal.classList.contains('share-menu') || 
                        modal.classList.contains('cart-sidebar') || 
                        modal.classList.contains('zoom-content')) {
                        modal.classList.remove('active');
                    }
                });
                
                if (document.body.classList.contains('modal-open')) {
                    closeModal();
                }
            }
        });
    }
    
    /**
     * فیکس مشکل دکمه‌ها
     */
    function setupButtons() {
        // دکمه علاقه‌مندی
        const wishlistButtons = document.querySelectorAll('.btn-wishlist');
        
        wishlistButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                const productId = this.dataset.productId || '1';
                this.classList.toggle('active');
                
                // نمایش پیام مناسب
                if (this.classList.contains('active')) {
                    showToast('علاقه‌مندی‌ها', 'محصول به لیست علاقه‌مندی‌ها اضافه شد', 'success');
                    saveToWishlist(productId, true);
                } else {
                    showToast('علاقه‌مندی‌ها', 'محصول از لیست علاقه‌مندی‌ها حذف شد', 'info');
                    saveToWishlist(productId, false);
                }
            });
        });
        
        // دکمه افزودن به سبد خرید
        const addToCartButtons = document.querySelectorAll('[data-add-to-cart]');
        
        addToCartButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                // نمایش حالت بارگذاری
                this.classList.add('loading');
                this.disabled = true;
                
                // شبیه‌سازی افزودن به سبد خرید
                setTimeout(() => {
                    this.classList.remove('loading');
                    this.disabled = false;
                    
                    // به‌روزرسانی شمارنده سبد خرید
                    updateCartCount();
                    
                    // نمایش پیام موفقیت
                    showToast('سبد خرید', 'محصول با موفقیت به سبد خرید اضافه شد', 'success');
                }, 600);
            });
        });
        
        // ذخیره در لیست علاقه‌مندی‌ها
        function saveToWishlist(productId, isActive) {
            let wishlist = JSON.parse(localStorage.getItem('wishlist') || '{}');
            
            if (isActive) {
                wishlist[productId] = true;
            } else {
                delete wishlist[productId];
            }
            
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
        }
        
        // به‌روزرسانی شمارنده سبد خرید
        function updateCartCount() {
            const cartCounters = document.querySelectorAll('.navbar-badge, .fab-badge, .cart-counter');
            let count = parseInt(localStorage.getItem('cartCount') || '0');
            count++;
            
            cartCounters.forEach(counter => {
                counter.textContent = count;
                counter.classList.add('pulse');
                setTimeout(() => {
                    counter.classList.remove('pulse');
                }, 500);
            });
            
            localStorage.setItem('cartCount', count);
            
            // نمایش سبد خرید شناور
            const fabCart = document.querySelector('.fab-cart');
            if (fabCart) {
                fabCart.classList.add('visible');
            }
        }
        
        // بارگذاری وضعیت قبلی علاقه‌مندی‌ها
        function loadWishlistState() {
            const wishlist = JSON.parse(localStorage.getItem('wishlist') || '{}');
            
            wishlistButtons.forEach(button => {
                const productId = button.dataset.productId || '1';
                if (wishlist[productId]) {
                    button.classList.add('active');
                }
            });
        }
        
        // بارگذاری شمارنده سبد خرید
        function loadCartCount() {
            const cartCounters = document.querySelectorAll('.navbar-badge, .fab-badge, .cart-counter');
            const count = parseInt(localStorage.getItem('cartCount') || '0');
            
            cartCounters.forEach(counter => {
                counter.textContent = count;
            });
            
            // نمایش سبد خرید شناور اگر سبد خالی نیست
            if (count > 0) {
                const fabCart = document.querySelector('.fab-cart');
                if (fabCart) {
                    fabCart.classList.add('visible');
                }
            }
        }
        
        // اجرای توابع بارگذاری
        loadWishlistState();
        loadCartCount();
    }
    
    /**
     * فیکس مشکل اسکرول
     */
    function setupScroll() {
        const navbar = document.querySelector('.navbar');
        const fabCart = document.querySelector('.fab-cart');
        const header = document.querySelector('.tabs-header');
        
        // متغیرهای کنترل اسکرول
        let lastScrollTop = 0;
        let ticking = false;
        
        window.addEventListener('scroll', function() {
            if (!ticking) {
                window.requestAnimationFrame(function() {
                    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                    
                    // اعمال افکت اسکرول به نوبار
                    if (navbar) {
                        if (scrollTop > 20) {
                            navbar.classList.add('scrolled');
                        } else {
                            navbar.classList.remove('scrolled');
                        }
                    }
                    
                    // کنترل نمایش سبد خرید شناور
                    if (fabCart) {
                        const cartCount = parseInt(localStorage.getItem('cartCount') || '0');
                        if (cartCount > 0) {
                            if (scrollTop > 300) {
                                fabCart.classList.add('visible');
                            } else if (scrollTop < 100) {
                                fabCart.classList.remove('visible');
                            }
                        }
                    }
                    
                    // افکت سایه برای هدر تب‌ها
                    if (header) {
                        if (scrollTop > header.offsetTop - 60) {
                            header.classList.add('shadowed');
                        } else {
                            header.classList.remove('shadowed');
                        }
                    }
                    
                    lastScrollTop = scrollTop;
                    ticking = false;
                });
                
                ticking = true;
            }
        }, { passive: true });
    }
    
    /**
     * تنظیم تب‌ها
     */
    function setupTabs() {
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        
        if (!tabButtons.length || !tabContents.length) return;
        
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                // حذف کلاس active از همه تب‌ها
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                // فعال‌سازی تب کلیک شده
                this.classList.add('active');
                const tabId = this.getAttribute('data-tab');
                const activeContent = document.getElementById(tabId);
                
                if (activeContent) {
                    activeContent.classList.add('active');
                }
            });
        });
    }
    
    /**
     * تنظیم گالری
     */
    function setupGallery() {
        const thumbnails = document.querySelectorAll('.gallery-thumbnail');
        const mainImage = document.querySelector('.gallery-main-image');
        
        if (!thumbnails.length || !mainImage) return;
        
        thumbnails.forEach(thumbnail => {
            thumbnail.addEventListener('click', function() {
                // حذف کلاس active از همه تامبنیل‌ها
                thumbnails.forEach(thumb => thumb.classList.remove('active'));
                
                // فعال‌سازی تامبنیل کلیک شده
                this.classList.add('active');
                
                // تغییر تصویر اصلی
                const imgSrc = this.querySelector('img').getAttribute('src');
                mainImage.src = imgSrc;
            });
        });
    }
    
    /**
     * نمایش توست نوتیفیکیشن
     */
    function showToast(title, message, type = 'success') {
        let toastContainer = document.querySelector('.toast-container');
        
        // ایجاد کانتینر توست اگر وجود ندارد
        if (!toastContainer) {
            toastContainer = document.createElement('div');
            toastContainer.className = 'toast-container';
            document.body.appendChild(toastContainer);
        }
        
        // ایجاد توست
        const toast = document.createElement('div');
        toast.className = `toast toast-${type}`;
        
        toast.innerHTML = `
            <div class="toast-indicator"></div>
            <div class="toast-content">
                <div class="toast-icon">
                    <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'exclamation' : 'info'}-circle"></i>
                </div>
                <div class="toast-text">
                    <h4 class="toast-title">${title}</h4>
                    <p class="toast-message">${message}</p>
                </div>
                <button class="toast-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;
        
        // افزودن به DOM و نمایش
        toastContainer.appendChild(toast);
        setTimeout(() => toast.classList.add('active'), 10);
        
        // دکمه بستن
        const closeBtn = toast.querySelector('.toast-close');
        closeBtn.addEventListener('click', () => {
            toast.classList.remove('active');
            setTimeout(() => toast.remove(), 300);
        });
        
        // بستن خودکار
        setTimeout(() => {
            toast.classList.remove('active');
            setTimeout(() => toast.remove(), 300);
        }, 4000);
    }
});
document.addEventListener('DOMContentLoaded', function() {
    // فعال‌سازی تب‌ها
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');
    
    tabButtons.forEach(button => {
        button.addEventListener('click', function() {
            // حذف کلاس active از همه تب‌ها
            tabButtons.forEach(btn => btn.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            // فعال کردن تب انتخاب شده
            const tabId = this.dataset.tab;
            this.classList.add('active');
            document.getElementById(tabId + 'Tab').classList.add('active');
        });
    });
    
    // اصلاح عرض سلول‌های جدول در صورت نیاز
    const specTables = document.querySelectorAll('.spec-table');
    specTables.forEach(table => {
        const nameColumns = table.querySelectorAll('.spec-name');
        if (nameColumns.length > 0) {
            // تنظیم عرض ستون نام مشخصات
            const maxWidth = Math.max(...Array.from(nameColumns).map(col => col.textContent.length)) * 10 + 40;
            nameColumns.forEach(col => {
                col.style.width = Math.min(Math.max(maxWidth, 120), 200) + 'px';
            });
        }
    });
});
    </script>
</body>
</html>